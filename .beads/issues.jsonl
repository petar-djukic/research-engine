{"id":"research-0op","title":"Patent Search and Acquisition","description":"Implement patent search via USPTO PatentsView API and patent PDF acquisition via Google Patents. Covers prd008-patent-search requirements R1-R6. Adds PatentsView as a search backend, patent identifier classification and PDF resolution in acquisition, and CLI integration.","status":"open","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:08:06.096693-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:08:06.096693-05:00","labels":["patent","prd008"]}
{"id":"research-0op.1","title":"Implement PatentsView search backend","description":"## Required Reading\n- docs/specs/product-requirements/prd008-patent-search.yaml (R1-R3)\n- internal/search/openalex.go (backend pattern to follow)\n- pkg/types/config.go (SearchConfig struct)\n- internal/search/search.go (Backend interface)\n\n## Files to Create/Modify\n- internal/search/patentsview.go (create)\n- pkg/types/config.go (modify — add EnablePatentsView, PatentsViewAPIKey)\n\n## Requirements\n- Implement PatentsViewBackend struct with Name() returning \"patentsview\" and Search() method\n- Query PatentsView API at https://search.patentsview.org/api/v1/patent/ using HTTP GET\n- Authenticate with X-Api-Key header from config\n- Query translation: _text_any for FreeText, _contains for Author (inventor), _gte/_lte for dates, _and combiner\n- Request fields: patent_id, patent_title, patent_abstract, patent_date, patent_type, patent_num_claims, inventors.inventor_name_last\n- Map results to SearchResult: Source \"patentsview\", Identifier \"US\"+patent_id, position-based scoring\n- Declare patentsViewSearchBase as package var for test substitution\n- Add EnablePatentsView bool and PatentsViewAPIKey string to SearchConfig\n\n## Design Decisions\n- Follow the same Strategy pattern as ArxivBackend, SemanticScholarBackend, OpenAlexBackend\n- Use package-level var for base URL so tests can substitute httptest server\n- Patent IDs prefixed with \"US\" to distinguish from academic identifiers\n\n## Acceptance Criteria\n- [ ] PatentsViewBackend implements Backend interface\n- [ ] Query translation handles free-text, inventor, date range, and combined queries\n- [ ] Results mapped to SearchResult with correct fields\n- [ ] Config fields added to SearchConfig\n- [ ] Code compiles with go build -tags sqlite_fts5","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:08:38.959008-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:19:49.216393-05:00","closed_at":"2026-02-12T15:19:49.216393-05:00","close_reason":"Closed","labels":["code","patent","prd008"],"dependencies":[{"issue_id":"research-0op.1","depends_on_id":"research-0op","type":"parent-child","created_at":"2026-02-12T15:08:38.960017-05:00","created_by":"petardjukic"}],"comments":[{"id":40,"issue_id":"research-0op.1","author":"petardjukic","text":"tokens: 35000","created_at":"2026-02-12T20:19:49Z"}]}
{"id":"research-0op.10","title":"Patent dedup and CSL output tests","description":"## Required Reading\n- internal/search/format.go (CSL formatting for patents)\n- internal/search/search.go (patent dedup logic)\n- internal/search/search_test.go (existing dedup test patterns)\n\n## Files to Create/Modify\n- internal/search/format_test.go (create or extend)\n- internal/search/search_test.go (extend with patent dedup tests)\n\n## Requirements\n- Test CSL output for patent results: type \"patent\", number field, authority field\n- Test CSL output for mixed results (papers + patents in same output)\n- Test patent dedup: same patent from two queries, kind code normalization\n- Test that papers and patents are not cross-deduplicated\n\n## Acceptance Criteria\n- [ ] All tests pass with go test -tags sqlite_fts5 ./internal/search/\n- [ ] CSL patent type verified\n- [ ] Patent dedup with kind code stripping verified\n- [ ] Mixed output (papers + patents) tested","status":"open","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:11:22.242569-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:11:22.242569-05:00","labels":["patent","prd008","testing"],"dependencies":[{"issue_id":"research-0op.10","depends_on_id":"research-0op","type":"parent-child","created_at":"2026-02-12T15:11:22.243742-05:00","created_by":"petardjukic"},{"issue_id":"research-0op.10","depends_on_id":"research-0op.8","type":"blocks","created_at":"2026-02-12T15:11:22.24541-05:00","created_by":"petardjukic"},{"issue_id":"research-0op.10","depends_on_id":"research-0op.9","type":"blocks","created_at":"2026-02-12T15:11:22.246428-05:00","created_by":"petardjukic"}]}
{"id":"research-0op.11","title":"Integration test: patent search and acquire pipeline","description":"## Required Reading\n- tests/integration/ (existing integration test patterns if any)\n- internal/search/patentsview.go\n- internal/acquire/patent.go\n- prd008-patent-search.yaml\n\n## Files to Create/Modify\n- tests/integration/patent_pipeline_test.go (create)\n\n## Requirements\n- Mock servers for PatentsView API (search + metadata) and Google Patents PDF storage\n- End-to-end flow: search returns patent results -\u003e acquire downloads PDF -\u003e metadata YAML written\n- Verify file naming: papers/raw/US{id}.pdf, papers/metadata/US{id}.yaml\n- Verify metadata content: title, inventors, date, source \"patentsview\"\n- Test idempotent re-acquire (second call skips download)\n- Test mixed batch: acquire arXiv paper + patent in same batch\n\n## Acceptance Criteria\n- [ ] Integration test passes with mock servers\n- [ ] File paths and naming match expectations\n- [ ] Metadata YAML contains correct fields\n- [ ] Idempotent re-acquire verified","status":"open","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:11:37.685758-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:11:37.685758-05:00","labels":["patent","prd008","testing"],"dependencies":[{"issue_id":"research-0op.11","depends_on_id":"research-0op","type":"parent-child","created_at":"2026-02-12T15:11:37.686659-05:00","created_by":"petardjukic"},{"issue_id":"research-0op.11","depends_on_id":"research-0op.3","type":"blocks","created_at":"2026-02-12T15:11:37.688292-05:00","created_by":"petardjukic"},{"issue_id":"research-0op.11","depends_on_id":"research-0op.6","type":"blocks","created_at":"2026-02-12T15:11:37.689369-05:00","created_by":"petardjukic"},{"issue_id":"research-0op.11","depends_on_id":"research-mfm.1","type":"blocks","created_at":"2026-02-12T15:11:37.690385-05:00","created_by":"petardjukic"}]}
{"id":"research-0op.2","title":"PatentsView search backend tests","description":"## Required Reading\n- internal/search/patentsview.go (implementation under test)\n- internal/search/search_test.go (mock backend and httptest patterns)\n- internal/search/arxiv_test.go (XML test server pattern)\n\n## Files to Create/Modify\n- internal/search/patentsview_test.go (create)\n\n## Requirements\n- Create httptest server returning mock PatentsView JSON responses\n- Table-driven tests for query translation: free-text, inventor filter, date range, combined, empty query\n- Test result mapping: patent_id to \"US\" prefix, inventor name extraction, date parsing, position scoring\n- Test MaxResults capping (PatentsView max 1000)\n- Error cases: HTTP 429 (rate limit), 403 (invalid key), 500 (server error), malformed JSON\n- Test empty result set handling\n- Use testCfg() helper pattern from existing tests\n\n## Acceptance Criteria\n- [ ] All tests pass with go test -tags sqlite_fts5 ./internal/search/\n- [ ] Query translation covered for all Query field combinations\n- [ ] Error handling tested for HTTP error codes\n- [ ] No live API calls in tests","status":"open","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:08:49.512489-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:08:49.512489-05:00","labels":["patent","prd008","testing"],"dependencies":[{"issue_id":"research-0op.2","depends_on_id":"research-0op","type":"parent-child","created_at":"2026-02-12T15:08:49.513344-05:00","created_by":"petardjukic"},{"issue_id":"research-0op.2","depends_on_id":"research-0op.1","type":"blocks","created_at":"2026-02-12T15:08:49.514869-05:00","created_by":"petardjukic"}]}
{"id":"research-0op.3","title":"Wire PatentsView into search CLI","description":"## Required Reading\n- prd008-patent-search.yaml (R6.1-R6.4)\n- cmd/research-engine/search.go (existing backend wiring pattern)\n- internal/search/patentsview.go (backend to wire)\n\n## Files to Create/Modify\n- cmd/research-engine/search.go (modify)\n\n## Requirements\n- Add --patentsview-api-key flag for API key\n- Add --patents convenience flag that enables only PatentsView backend (disables arXiv, Semantic Scholar, OpenAlex)\n- When --patents is not set and EnablePatentsView is true, PatentsView participates in normal fan-out\n- Instantiate PatentsViewBackend when enabled, passing Client and APIKey\n- Update Long description to mention PatentsView\n- PatentsView disabled by default (requires API key to be useful)\n\n## Design Decisions\n- --patents flag sets EnablePatentsView=true and disables academic backends for convenience\n- Without --patents, PatentsView only participates if API key is provided (via flag or .secrets/)\n\n## Acceptance Criteria\n- [ ] research-engine search --patents --patentsview-api-key KEY \"transformer\" targets only PatentsView\n- [ ] Without --patents, PatentsView joins normal fan-out when key is provided\n- [ ] --help shows new flags\n- [ ] Code compiles with go build -tags sqlite_fts5","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:09:00.809891-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:25:42.458057-05:00","closed_at":"2026-02-12T15:25:42.458057-05:00","close_reason":"Closed","labels":["code","patent","prd008"],"dependencies":[{"issue_id":"research-0op.3","depends_on_id":"research-0op","type":"parent-child","created_at":"2026-02-12T15:09:00.810924-05:00","created_by":"petardjukic"},{"issue_id":"research-0op.3","depends_on_id":"research-0op.1","type":"blocks","created_at":"2026-02-12T15:09:00.823901-05:00","created_by":"petardjukic"}],"comments":[{"id":42,"issue_id":"research-0op.3","author":"petardjukic","text":"tokens: 35000","created_at":"2026-02-12T20:25:42Z"}]}
{"id":"research-0op.4","title":"Patent identifier classification and PDF URL resolution","description":"## Required Reading\n- prd008-patent-search.yaml (R4.1-R4.3)\n- internal/acquire/resolve.go (Classify, Slug, PDFURL functions)\n- internal/acquire/acquire.go (AcquirePaper flow)\n\n## Files to Create/Modify\n- internal/acquire/resolve.go (modify — add TypePatent)\n\n## Requirements\n- Add TypePatent IdentifierType constant\n- Extend Classify() to recognize US patent numbers: US followed by 6-11 digits, optional kind code (B1, B2, A1, etc.)\n- Patterns: US7654321, US7654321B2, US20230012345A1, US20230012345\n- Normalize: strip \"US\" prefix variations, preserve kind code if present\n- Extend Slug(): use full patent identifier as slug (e.g. \"US7654321B2\")\n- Extend PDFURL(): construct https://patentimages.storage.googleapis.com/pdfs/{id}.pdf\n- Add googlePatentsPDFBase as package var for test substitution\n\n## Design Decisions\n- Patent regex: ^US\\d{6,11}[A-Z]\\d{0,2}$ covers granted patents and published applications\n- Kind code is preserved in slug and identifier for disambiguation\n\n## Acceptance Criteria\n- [ ] Classify identifies US patent numbers correctly\n- [ ] Classify rejects non-patent strings that start with \"US\" (e.g. \"USA\")\n- [ ] Slug produces filesystem-safe names\n- [ ] PDFURL constructs valid Google Patents storage URLs\n- [ ] Code compiles with go build -tags sqlite_fts5","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:09:19.024596-05:00","created_by":"petardjukic","updated_at":"2026-02-12T17:37:26.676677-05:00","closed_at":"2026-02-12T16:02:55.231227-05:00","labels":["code","patent","prd008"],"dependencies":[{"issue_id":"research-0op.4","depends_on_id":"research-0op","type":"parent-child","created_at":"2026-02-12T15:09:19.025796-05:00","created_by":"petardjukic"}],"comments":[{"id":43,"issue_id":"research-0op.4","author":"pdiddy","text":"tokens: 40000","created_at":"2026-02-12T21:02:55Z"}]}
{"id":"research-0op.5","title":"Patent identifier classification tests","description":"## Required Reading\n- internal/acquire/resolve.go (Classify, Slug, PDFURL with TypePatent)\n- internal/acquire/acquire_test.go (table-driven Classify test pattern)\n\n## Files to Create/Modify\n- internal/acquire/resolve_test.go (create or extend existing test file)\n\n## Requirements\n- Table-driven tests for Classify with patent IDs: US7654321, US7654321B2, US20230012345A1, US20230012345\n- Negative cases: \"US\" alone, \"US1\" (too short), \"USA\", \"USABC\", non-patent strings\n- Tests for Slug with patent identifiers\n- Tests for PDFURL verifying Google Patents storage URL construction\n- Test kind code handling (with and without kind code)\n\n## Acceptance Criteria\n- [ ] All tests pass with go test -tags sqlite_fts5 ./internal/acquire/\n- [ ] Positive and negative Classify cases covered\n- [ ] Slug and PDFURL tested for patent patterns","status":"open","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:09:28.146092-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:09:28.146092-05:00","labels":["patent","prd008","testing"],"dependencies":[{"issue_id":"research-0op.5","depends_on_id":"research-0op","type":"parent-child","created_at":"2026-02-12T15:09:28.147178-05:00","created_by":"petardjukic"},{"issue_id":"research-0op.5","depends_on_id":"research-0op.4","type":"blocks","created_at":"2026-02-12T15:09:28.148734-05:00","created_by":"petardjukic"}]}
{"id":"research-0op.6","title":"Patent PDF download with fallback and metadata fetch","description":"## Required Reading\n- prd008-patent-search.yaml (R4.2-R4.6)\n- internal/acquire/acquire.go (AcquirePaper function, fetchArxivMetadata pattern)\n- internal/acquire/resolve.go (TypePatent, PDFURL)\n\n## Files to Create/Modify\n- internal/acquire/acquire.go (modify — add TypePatent case in AcquirePaper)\n- internal/acquire/patent.go (create — fetchPatentMetadata function)\n\n## Requirements\n- In AcquirePaper: handle TypePatent case for download\n- Download from Google Patents storage URL (PDFURL output)\n- Fallback: if Google Patents PDF returns non-200, log warning to stderr and construct alternate URL https://patents.google.com/patent/{id}/en\n- fetchPatentMetadata(): call PatentsView /api/v1/patent/?q={\"patent_id\":\"...\"}\u0026f=[fields] to get title, inventors, abstract, date\n- Populate Paper struct with metadata, source set to \"patentsview\"\n- Write metadata YAML to papers/metadata/{slug}.yaml\n- Add patentsViewAPIBase package var for test substitution\n\n## Design Decisions\n- Follow existing fetchArxivMetadata/fetchCrossRefMetadata pattern\n- Patent metadata requires PatentsView API key; if key not available, leave metadata fields empty (like direct URL papers)\n\n## Acceptance Criteria\n- [ ] Patent PDFs download successfully from Google Patents storage\n- [ ] Fallback URL constructed when primary returns non-200\n- [ ] Metadata YAML created with patent-specific fields\n- [ ] Missing API key results in empty metadata (not an error)\n- [ ] Code compiles with go build -tags sqlite_fts5","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:09:41.580757-05:00","created_by":"petardjukic","updated_at":"2026-02-12T17:37:26.684983-05:00","closed_at":"2026-02-12T17:35:23.256252-05:00","labels":["code","patent","prd008"],"dependencies":[{"issue_id":"research-0op.6","depends_on_id":"research-0op","type":"parent-child","created_at":"2026-02-12T15:09:41.58176-05:00","created_by":"petardjukic"},{"issue_id":"research-0op.6","depends_on_id":"research-0op.4","type":"blocks","created_at":"2026-02-12T15:09:41.583342-05:00","created_by":"petardjukic"}],"comments":[{"id":44,"issue_id":"research-0op.6","author":"pdiddy","text":"tokens: 45000","created_at":"2026-02-12T22:35:22Z"}]}
{"id":"research-0op.7","title":"Patent acquisition tests","description":"## Required Reading\n- internal/acquire/patent.go (fetchPatentMetadata)\n- internal/acquire/acquire.go (TypePatent case)\n- internal/acquire/acquire_test.go (newTestServer, overrideBaseURLs patterns)\n\n## Files to Create/Modify\n- internal/acquire/patent_test.go (create)\n\n## Requirements\n- Extend test server to serve patent PDF at Google Patents storage path\n- Test: successful patent PDF download and metadata creation\n- Test: skip existing patent PDF (idempotent)\n- Test: fallback when Google Patents returns 404\n- Test: fetchPatentMetadata from mock PatentsView API response\n- Test: metadata fetch with missing API key (empty metadata, no error)\n- Test: batch acquisition with mixed paper + patent identifiers\n\n## Acceptance Criteria\n- [ ] All tests pass with go test -tags sqlite_fts5 ./internal/acquire/\n- [ ] Download, skip, fallback, and metadata paths covered\n- [ ] Mixed batch (papers + patents) tested","status":"open","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:09:51.424188-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:09:51.424188-05:00","labels":["patent","prd008","testing"],"dependencies":[{"issue_id":"research-0op.7","depends_on_id":"research-0op","type":"parent-child","created_at":"2026-02-12T15:09:51.424996-05:00","created_by":"petardjukic"},{"issue_id":"research-0op.7","depends_on_id":"research-0op.6","type":"blocks","created_at":"2026-02-12T15:09:51.426571-05:00","created_by":"petardjukic"}]}
{"id":"research-0op.8","title":"Patent-aware CSL output","description":"## Required Reading\n- prd008-patent-search.yaml (R6.4)\n- internal/search/format.go (FormatCSL, FormatJSON, FormatTable functions)\n\n## Files to Create/Modify\n- internal/search/format.go (modify)\n\n## Requirements\n- Patents use CSL type \"patent\" instead of \"article\" or \"paper-conference\"\n- Patent CSL fields: number (patent number), authority (\"United States Patent and Trademark Office\"), issued (grant date)\n- Detect patent results by Source == \"patentsview\" or Identifier starting with \"US\" followed by digits\n- FormatTable: show patent type indicator in source column (e.g. \"patent\" instead of backend name)\n- FormatJSON: no changes needed (SearchResult fields are generic enough)\n\n## Design Decisions\n- CSL patent type is a standard CSL type recognized by Pandoc and reference managers\n- Authority field identifies the patent office\n\n## Acceptance Criteria\n- [ ] --csl output produces valid CSL YAML with type \"patent\" for patent results\n- [ ] Patent number appears in CSL number field\n- [ ] Authority field set for patents\n- [ ] Table output distinguishes patents from papers","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:11:02.140586-05:00","created_by":"petardjukic","updated_at":"2026-02-12T17:43:44.331044-05:00","closed_at":"2026-02-12T17:43:44.331044-05:00","close_reason":"Closed","labels":["code","patent","prd008"],"dependencies":[{"issue_id":"research-0op.8","depends_on_id":"research-0op","type":"parent-child","created_at":"2026-02-12T15:11:02.141534-05:00","created_by":"petardjukic"},{"issue_id":"research-0op.8","depends_on_id":"research-0op.1","type":"blocks","created_at":"2026-02-12T15:11:02.14324-05:00","created_by":"petardjukic"}],"comments":[{"id":46,"issue_id":"research-0op.8","author":"petardjukic","text":"tokens: 20000","created_at":"2026-02-12T22:43:44Z"}]}
{"id":"research-0op.9","title":"Patent deduplication logic","description":"## Required Reading\n- internal/search/search.go (deduplicate, mergeInto, normalizeTitle functions)\n- prd008-patent-search.yaml\n\n## Files to Create/Modify\n- internal/search/search.go (modify — extend deduplicate)\n\n## Requirements\n- Add patent number normalization to dedup: strip kind codes for comparison (US7654321B2 and US7654321 are the same patent)\n- When merging duplicate patent results (from multiple PatentsView queries), keep higher relevance score\n- Handle edge case: same patent returned from different query formulations within the same backend\n\n## Design Decisions\n- Patent dedup by stripped patent number (remove kind code suffix)\n- Do not deduplicate patents against academic papers (different document types)\n\n## Acceptance Criteria\n- [ ] Duplicate patent results from same backend merged correctly\n- [ ] Kind code stripping works for normalization\n- [ ] Academic papers not accidentally matched with patents","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:11:12.646589-05:00","created_by":"petardjukic","updated_at":"2026-02-12T17:45:58.502627-05:00","closed_at":"2026-02-12T17:45:58.502627-05:00","close_reason":"Closed","labels":["code","patent","prd008"],"dependencies":[{"issue_id":"research-0op.9","depends_on_id":"research-0op","type":"parent-child","created_at":"2026-02-12T15:11:12.647606-05:00","created_by":"petardjukic"},{"issue_id":"research-0op.9","depends_on_id":"research-0op.1","type":"blocks","created_at":"2026-02-12T15:11:12.652439-05:00","created_by":"petardjukic"}],"comments":[{"id":47,"issue_id":"research-0op.9","author":"petardjukic","text":"tokens: 20000","created_at":"2026-02-12T22:45:58Z"}]}
{"id":"research-baa","title":"Test Coverage","description":"Add missing test coverage for existing search backends (OpenAlex, Semantic Scholar) and patent-related code.","status":"open","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:08:14.049375-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:08:14.049375-05:00","labels":["testing"]}
{"id":"research-baa.1","title":"OpenAlex search backend tests","description":"## Required Reading\n- internal/search/openalex.go (implementation under test)\n- internal/search/search_test.go (mock patterns, testCfg helper)\n- internal/search/arxiv_test.go (httptest server pattern)\n\n## Files to Create/Modify\n- internal/search/openalex_test.go (create)\n\n## Requirements\n- httptest server returning mock OpenAlex JSON with inverted index abstracts\n- Table-driven tests for buildOpenAlexQuery: FreeText only, Author only, Keywords, combined\n- Test Search(): free-text query returns results with correct fields\n- Test date range filtering (from_publication_date, to_publication_date in filter param)\n- Test email parameter passed as mailto\n- Test reconstructAbstract: empty map, single word, multi-word, words with shared positions\n- Error cases: HTTP non-200, malformed JSON, empty results list\n- Test DOI preference and identifier stripping (https://doi.org/ prefix removal)\n- Test position-based scoring (first result highest, last result lowest)\n\n## Acceptance Criteria\n- [ ] All tests pass with go test -tags sqlite_fts5 ./internal/search/\n- [ ] reconstructAbstract edge cases covered\n- [ ] Query building and date filtering verified\n- [ ] No live API calls in tests","status":"open","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:10:37.454817-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:10:37.454817-05:00","labels":["prd006","testing"],"dependencies":[{"issue_id":"research-baa.1","depends_on_id":"research-baa","type":"parent-child","created_at":"2026-02-12T15:10:37.455666-05:00","created_by":"petardjukic"}]}
{"id":"research-baa.2","title":"Semantic Scholar search backend tests","description":"## Required Reading\n- internal/search/semantic.go (implementation under test)\n- internal/search/search_test.go (mock patterns, testCfg helper)\n\n## Files to Create/Modify\n- internal/search/semantic_test.go (create)\n\n## Requirements\n- httptest server returning mock Semantic Scholar JSON response\n- Table-driven tests for query building: free-text, author, keywords, year range\n- Test identifier preference: arXiv ID preferred over DOI over PaperID (S2 CorpusId)\n- Test API key header sent when configured\n- Test fields parameter in request URL\n- Error cases: 429 rate limit, 500 server error, malformed JSON, zero results\n- Test position-based scoring\n\n## Acceptance Criteria\n- [ ] All tests pass with go test -tags sqlite_fts5 ./internal/search/\n- [ ] Identifier preference logic verified\n- [ ] API key header tested\n- [ ] No live API calls in tests","status":"open","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:10:45.233182-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:10:45.233182-05:00","labels":["prd006","testing"],"dependencies":[{"issue_id":"research-baa.2","depends_on_id":"research-baa","type":"parent-child","created_at":"2026-02-12T15:10:45.233974-05:00","created_by":"petardjukic"}]}
{"id":"research-engine-1kq","title":"Implement extraction core in internal/extract","description":"## Type\nCode (~500 LOC, 3-4 files)\n\n## Required Reading\n- docs/specs/product-requirements/prd003-extraction.yaml (R5, R6)\n- docs/ARCHITECTURE.md § Extraction\n- pkg/types/knowledge.go (KnowledgeItem, ExtractionResult)\n- pkg/types/config.go (ExtractionConfig, AIConfig)\n- internal/search/search.go (pattern reference: Strategy, batch processing)\n\n## Files to Create\n- internal/extract/extract.go (create) - main Extract function, AI backend interface\n- internal/extract/prompt.go (create) - prompt template for Claude API\n- internal/extract/extract_test.go (create) - table-driven tests with mock AI backend\n\n## Requirements\n- Define AIBackend interface with Extract(ctx, section string) method returning raw response\n- Implement ClaudeBackend that calls Claude API with structured prompts (R5.2)\n- Read structured Markdown from papers/markdown/ for each paper (R5.1)\n- Chunk Markdown by section headings to stay within context limits (R5.3)\n- Parse API response into KnowledgeItems and validate against schema (R5.4)\n- Retry failed API calls up to 3 times with exponential backoff (R5.5)\n- Write extracted items to knowledge/extracted/ as YAML named by paper ID (R5.6)\n- Generate stable item IDs using content hash + paper ID + section (R2.5)\n- Incremental processing: skip papers whose Markdown has not changed (R6.1)\n- Re-extract all items when Markdown changes (R6.2)\n- Print status per paper to stdout (R6.3)\n- Return batch summary (R6.4)\n- Non-zero exit code on any failure (R6.5)\n\n## Design Decisions\n- Strategy pattern: AIBackend interface enables mock testing without API calls\n- Prompt as embedded Go template for maintainability\n- Section chunking uses heading-level boundaries (## or ###)\n- Stable ID = SHA-256(paper_id + section + content)[:12]\n\n## Acceptance Criteria\n- [ ] Extracts KnowledgeItems from test Markdown via mock backend\n- [ ] Validates item types and required fields\n- [ ] Retries on error up to 3 times\n- [ ] Skips unchanged Markdown files\n- [ ] Re-extracts when Markdown changes\n- [ ] Writes YAML output to correct path\n- [ ] Table-driven tests cover success, skip, re-extract, validation failure, retry exhaustion","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:57:34.98514-05:00","created_by":"pdiddy","updated_at":"2026-02-11T21:37:42.338267-05:00","closed_at":"2026-02-11T21:37:42.338267-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-1kq","depends_on_id":"research-engine-9i3","type":"parent-child","created_at":"2026-02-11T18:58:40.349118-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-1kq","depends_on_id":"research-engine-auc","type":"blocks","created_at":"2026-02-11T18:58:40.746914-05:00","created_by":"pdiddy"}],"comments":[{"id":35,"issue_id":"research-engine-1kq","author":"petardjukic","text":"tokens: 45000","created_at":"2026-02-12T02:37:37Z"}]}
{"id":"research-engine-6nr","title":"Release 02.0 Documentation","description":"Create use cases, test suites, and specifications for Release 02.0 (Knowledge phase).\n\n## Required Reading\n- docs/ARCHITECTURE.md § Extraction, Knowledge Base\n- docs/specs/product-requirements/prd003-extraction.yaml\n- docs/specs/product-requirements/prd004-knowledge-base.yaml\n- docs/road-map.yaml\n\n## Scope\nThree documentation deliverables:\n1. Use case + test suite for knowledge extraction (rel02.0-uc001)\n2. Use case + test suite for knowledge base storage (rel02.0-uc002)\n3. Regenerated SPECIFICATIONS.md covering all PRDs, use cases, and test suites\n\n## Acceptance Criteria\n- Both use cases created with all required fields per use-case-format\n- Both test suites created with test cases per test-case-format\n- road-map.yaml updated with use case entries\n- SPECIFICATIONS.md regenerated with current data per specification-format","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-02-11T18:55:57.517364-05:00","created_by":"pdiddy","updated_at":"2026-02-11T22:03:11.258659-05:00","closed_at":"2026-02-11T22:03:11.258659-05:00","close_reason":"Closed"}
{"id":"research-engine-9i3","title":"Release 02.0 Implementation","description":"Implement the extraction and knowledge base stages for Release 02.0 (Knowledge phase).\n\n## Required Reading\n- docs/ARCHITECTURE.md § Extraction, Knowledge Base\n- docs/specs/product-requirements/prd003-extraction.yaml\n- docs/specs/product-requirements/prd004-knowledge-base.yaml\n- pkg/types/knowledge.go (existing KnowledgeItem stub)\n- internal/search/ (pattern reference for Strategy, testing, batch processing)\n\n## Scope\nSix code tasks implementing:\n1. KnowledgeItem and extraction types in pkg/types/\n2. Extraction core (internal/extract/) - AI-driven item extraction from Markdown\n3. Citation graph and tagging in extraction\n4. Extract CLI command wiring\n5. Knowledge base store and retrieve (internal/knowledge/) - SQLite + FTS5\n6. Knowledge base CLI command wiring\n\n## Design Decisions\n- Strategy pattern for AI backend (enables mock testing)\n- database/sql + mattn/go-sqlite3 for knowledge base\n- FTS5 for full-text search\n- Functional options for query filters\n- Follow existing patterns from internal/search/ and internal/acquire/\n\n## Acceptance Criteria\n- All prd003-extraction requirements (R1-R6) implemented\n- All prd004-knowledge-base requirements (R1-R6) implemented\n- Table-driven tests with mock AI backend for extraction\n- Table-driven tests for knowledge base CRUD, search, and query\n- CLI commands wired and functional","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-02-11T18:56:09.724723-05:00","created_by":"pdiddy","updated_at":"2026-02-11T22:03:16.495935-05:00","closed_at":"2026-02-11T22:03:16.495935-05:00","close_reason":"Closed"}
{"id":"research-engine-auc","title":"Add KnowledgeItem extraction types to pkg/types","description":"## Type\nCode (~150 LOC)\n\n## Required Reading\n- docs/specs/product-requirements/prd003-extraction.yaml (R1, R2, R3, R4)\n- pkg/types/knowledge.go (existing KnowledgeItem stub)\n- pkg/types/config.go (ExtractionConfig, AIConfig)\n\n## Files to Create/Modify\n- pkg/types/knowledge.go (modify)\n\n## Requirements\n- Ensure KnowledgeItem has all fields from prd003 R1.1-R1.4: Type (enum: claim/method/definition/result), Content, PaperID, Section, Page, Confidence (float64), ID (stable item ID per R2.5)\n- Add Tags field ([]string) per R4.1-R4.4\n- Add Citation struct: inline reference ID, bibliography entry index, context text per R3.1-R3.4\n- Add Citations field ([]Citation) on KnowledgeItem\n- Add BibliographyEntry struct: Authors, Title, Year, Venue per R3.2\n- Add ExtractionResult struct: PaperID, Items []KnowledgeItem, Bibliography []BibliographyEntry, PaperTags []string, Error string\n- Add KnowledgeItemType type with constants (Claim, Method, Definition, Result)\n- Ensure YAML/JSON marshaling tags on all fields\n\n## Design Decisions\n- Use string-based enum with constants for KnowledgeItemType (not iota) for YAML readability\n- Citation and BibliographyEntry are value types (not pointers)\n\n## Acceptance Criteria\n- [ ] All prd003 R1-R4 fields present on KnowledgeItem\n- [ ] Types compile cleanly\n- [ ] YAML round-trip preserves all fields\n- [ ] Existing code that uses KnowledgeItem still compiles","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:57:19.502915-05:00","created_by":"pdiddy","updated_at":"2026-02-11T19:34:33.926204-05:00","closed_at":"2026-02-11T19:34:33.926204-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-auc","depends_on_id":"research-engine-9i3","type":"parent-child","created_at":"2026-02-11T18:58:40.258598-05:00","created_by":"pdiddy"}],"comments":[{"id":32,"issue_id":"research-engine-auc","author":"petardjukic","text":"tokens: 40000","created_at":"2026-02-12T00:34:28Z"}]}
{"id":"research-engine-auo","title":"Wire knowledge base CLI commands (store, retrieve, export)","description":"## Type\nCode (~200 LOC, 1-2 files)\n\n## Required Reading\n- docs/specs/product-requirements/prd004-knowledge-base.yaml (R1-R6)\n- cmd/research-engine/store.go (existing stub)\n- cmd/research-engine/search.go (pattern reference for output formatting)\n- internal/knowledge/ (store, retrieve, export implementation)\n\n## Files to Modify\n- cmd/research-engine/store.go (modify) - replace stub, add subcommands\n\n## Requirements\n- Replace \"not yet implemented\" stub with working commands\n- Implement three subcommands under research-engine knowledge:\n  - knowledge store: ingest extraction files into SQLite, print status per paper, return summary\n  - knowledge retrieve: query the knowledge base with --query (full-text), --type, --tag, --paper flags; print results with provenance; support --trace flag for source context; support --limit flag (default 20)\n  - knowledge export: dump to YAML/JSON with --format flag; support same filter flags as retrieve for partial export\n- Wire configuration from Viper (database path, extraction directory)\n- Print results in table format by default, JSON with --json flag\n- Return non-zero exit code on errors\n\n## Design Decisions\n- Follow Cobra subcommand pattern (knowledge as parent, store/retrieve/export as children)\n- Output formatting follows search.go pattern (table default, JSON optional)\n- Use Viper for config binding\n\n## Acceptance Criteria\n- [ ] research-engine knowledge --help shows subcommands\n- [ ] research-engine knowledge store ingests and prints summary\n- [ ] research-engine knowledge retrieve returns results with provenance\n- [ ] research-engine knowledge retrieve --trace returns source context\n- [ ] research-engine knowledge export --format yaml produces valid YAML\n- [ ] research-engine knowledge export --format json produces valid JSON\n- [ ] Stubs fully replaced","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:58:26.549284-05:00","created_by":"pdiddy","updated_at":"2026-02-11T21:31:44.460499-05:00","closed_at":"2026-02-11T21:31:44.460499-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-auo","depends_on_id":"research-engine-9i3","type":"parent-child","created_at":"2026-02-11T18:58:40.667711-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-auo","depends_on_id":"research-engine-dn1","type":"blocks","created_at":"2026-02-11T18:58:41.046627-05:00","created_by":"pdiddy"}],"comments":[{"id":34,"issue_id":"research-engine-auo","author":"petardjukic","text":"tokens: 30000","created_at":"2026-02-12T02:31:39Z"}]}
{"id":"research-engine-bsi","title":"Create use case and test suite for knowledge extraction (rel02.0-uc001)","description":"## Type\nDocumentation\n\n## Required Reading\n- docs/specs/product-requirements/prd003-extraction.yaml\n- docs/ARCHITECTURE.md § Extraction\n- docs/specs/use-cases/rel01.0-uc001-pdf-conversion.yaml (format reference)\n- docs/specs/test-suites/test-rel01.0-uc001-pdf-conversion.yaml (format reference)\n- .claude/rules/use-case-format.md\n- .claude/rules/test-case-format.md\n\n## Files to Create/Modify\n- docs/specs/use-cases/rel02.0-uc001-knowledge-extraction.yaml (create)\n- docs/specs/test-suites/test-rel02.0-uc001-knowledge-extraction.yaml (create)\n- docs/road-map.yaml (update: set uc001 status)\n\n## Requirements\n- Use case must trace a complete extraction path: researcher runs extract on converted papers, AI processes Markdown by section, produces typed KnowledgeItems with provenance\n- Actor: Researcher who has converted papers\n- Trigger: Running research-engine extract\n- Flow covers: reading Markdown, chunking by section, calling AI API, parsing response, validating schema, writing output YAML, incremental skip logic\n- Touchpoints reference prd003-extraction R1-R6\n- Success criteria map to prd003 acceptance criteria\n- Test suite must have test cases for: successful extraction, incremental skip, re-extraction on change, malformed API response, retry on failure, citation parsing, tag assignment\n\n## Format Rules\n- Use case: follow use-case-format rule\n- Test suite: follow test-case-format rule\n\n## Acceptance Criteria\n- [ ] Use case has all required fields (id, title, summary, actor, trigger, flow, touchpoints, success_criteria, out_of_scope, test_suite)\n- [ ] Test suite has id, title, traces, preconditions, and test_cases with inputs/expected\n- [ ] road-map.yaml updated\n- [ ] Files saved at correct paths","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:56:27.203683-05:00","created_by":"pdiddy","updated_at":"2026-02-11T19:08:46.16886-05:00","closed_at":"2026-02-11T19:08:46.16886-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-bsi","depends_on_id":"research-engine-6nr","type":"parent-child","created_at":"2026-02-11T18:57:00.480338-05:00","created_by":"pdiddy"}],"comments":[{"id":29,"issue_id":"research-engine-bsi","author":"petardjukic","text":"tokens: 25000","created_at":"2026-02-12T00:08:40Z"}]}
{"id":"research-engine-cce","title":"Add OpenAlex as acquisition backend","description":"## Type\nCode (~300 LOC)\n\n## Release\n99.0 (unscheduled) — enhances Release 01.0 acquisition but not required for Release 02.0\n\n## Context\nFrom TODO in prd001-acquisition.yaml line 18:\n\"include Open Alex as an acquisition mechanism https://api.openalex.org, prefer downloading from Open Alex if paper available there.\"\n\nOpenAlex provides open-access PDFs for many papers. Adding it as a source improves acquisition success rates and prefers open-access downloads.\n\n## Required Reading\n- docs/specs/product-requirements/prd001-acquisition.yaml\n- internal/acquire/acquire.go (AcquirePaper, Classify, PDFURL)\n- internal/acquire/acquire_test.go (test patterns, httptest usage)\n- pkg/types/paper.go (Paper struct, source fields)\n- pkg/types/config.go (AcquisitionConfig)\n\n## Files to Create/Modify\n- internal/acquire/openalex.go (create) - OpenAlex API client and resolution\n- internal/acquire/openalex_test.go (create) - tests with httptest mock\n- internal/acquire/acquire.go (modify) - integrate OpenAlex as preferred source for DOI resolution\n\n## Requirements\n- Query OpenAlex API (https://api.openalex.org/works) by DOI to find open-access PDF links\n- When a paper is available on OpenAlex with an open-access PDF, prefer that source for download\n- Fall back to existing resolution (arXiv, DOI content negotiation, direct URL) when OpenAlex does not have the paper or lacks an open-access link\n- Add \"openalex\" as a recognized source in Paper metadata\n- Respect rate limits (OpenAlex allows ~10 req/s for polite pool with mailto parameter)\n- Include polite pool mailto parameter in requests when configured\n\n## Design Decisions\n- OpenAlex lookup is attempted first for DOI identifiers; if it returns an open-access PDF URL, use that instead of DOI content negotiation\n- For arXiv IDs, skip OpenAlex (arXiv already provides direct PDF access)\n- Use package-level var for API base URL to enable httptest substitution (same pattern as arXiv and Semantic Scholar backends)\n- OpenAlex API response parsing focuses on best_oa_location.url_for_landing_page and best_oa_location.pdf_url fields\n\n## Acceptance Criteria\n- [ ] OpenAlex API queried for DOI-based identifiers\n- [ ] Open-access PDF downloaded when available from OpenAlex\n- [ ] Falls back to existing DOI resolution when OpenAlex has no open-access link\n- [ ] arXiv IDs bypass OpenAlex lookup\n- [ ] Paper metadata records \"openalex\" as source when used\n- [ ] Rate limiting respected\n- [ ] Table-driven tests with httptest mock covering: OA available, no OA, API error fallback, non-DOI bypass\n- [ ] TODO comment removed from prd001-acquisition.yaml","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T19:00:49.906858-05:00","created_by":"pdiddy","updated_at":"2026-02-11T21:58:59.207489-05:00","closed_at":"2026-02-11T21:58:59.207489-05:00","close_reason":"Closed","comments":[{"id":38,"issue_id":"research-engine-cce","author":"petardjukic","text":"tokens: 45000","created_at":"2026-02-12T02:58:50Z"}]}
{"id":"research-engine-cgg","title":"Add Search Stage to Pipeline","description":"Bring all documentation and scaffolding in line with the 6-stage pipeline from VISION.md. VISION already references search as the first stage; this epic updates ARCHITECTURE, PRDs, README, and Mage scaffolding to match.\n\n## Deliverables\n1. PRD for Paper Search (prd006-search.yaml)\n2. ARCHITECTURE.md updated with Search component, diagram, tables\n3. README.md and Mage scaffolding updated with search target\n4. prd001-acquisition.yaml updated to reference Search as upstream\n\n## Acceptance Criteria\n- All docs reference six-stage pipeline\n- PRD for search exists with full requirements\n- mage search target exists and runs\n- ARCHITECTURE diagram includes Search","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-02-09T20:15:43.063163-05:00","created_by":"pdiddy","updated_at":"2026-02-09T22:20:51.843214-05:00","closed_at":"2026-02-09T22:20:51.843214-05:00","close_reason":"Closed"}
{"id":"research-engine-cgg.1","title":"PRD: Paper Search","description":"## Type\nDocumentation\n\n## Required Reading\n- docs/VISION.md (search stage description, success criteria)\n- docs/ARCHITECTURE.md (pipeline interface pattern)\n- .claude/rules/prd-format.md\n\n## Files to Create\n- docs/specs/product-requirements/prd006-search.yaml\n\n## Required Sections (per prd-format rule)\n- id: prd006-search\n- title: Paper Search\n- problem: Researcher must manually find papers outside the pipeline\n- goals: G1-G4 (query interface, source backends, result ranking, output format)\n- requirements: R1 (Query interface), R2 (Source backends: arXiv API, Semantic Scholar API), R3 (Result ranking and deduplication), R4 (Output format: list of identifiers + metadata for acquisition), R5 (Rate limiting and access)\n- non_goals: Full-text indexing, citation graph traversal, crawling, building a paper database\n- acceptance_criteria: Checkable outcomes\n\n## Content Hints\n- Problem: Pipeline starts with search per VISION.md but no PRD defines the search interface. Researcher currently must find papers manually and provide URLs/DOIs.\n- Goals: Single query interface across multiple academic sources; ranked results with metadata; direct feed into acquisition stage\n- Requirements:\n  - R1: Query accepts free-text research question or structured query (author, title, keywords)\n  - R2: Backends: arXiv API, Semantic Scholar API; extensible to others\n  - R3: Results deduplicated across sources, ranked by relevance\n  - R4: Output is a list of candidate papers with identifier, title, authors, abstract, source\n  - R5: Rate limiting per source API; configurable delays\n- Non-goals: We do not crawl or mirror; we do not build a local paper index; we do not traverse citation graphs\n\n## Acceptance Criteria\n- [ ] All required sections present per prd-format\n- [ ] Requirements numbered and specific\n- [ ] File saved at docs/specs/product-requirements/prd006-search.yaml","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T20:15:54.771465-05:00","created_by":"pdiddy","updated_at":"2026-02-09T22:02:46.179343-05:00","closed_at":"2026-02-09T22:02:46.179343-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-cgg.1","depends_on_id":"research-engine-cgg","type":"parent-child","created_at":"2026-02-09T20:15:54.773207-05:00","created_by":"pdiddy"}],"comments":[{"id":1,"issue_id":"research-engine-cgg.1","author":"pdiddy","text":"tokens: 12000","created_at":"2026-02-10T03:02:45Z"}]}
{"id":"research-engine-cgg.2","title":"Update ARCHITECTURE.md for Search stage","description":"## Type\nDocumentation\n\n## Required Reading\n- docs/VISION.md (six-stage pipeline, internet requirements)\n- docs/ARCHITECTURE.md (current five-stage content)\n- docs/specs/product-requirements/prd006-search.yaml (after it exists)\n- .claude/rules/architecture-format.md\n\n## Files to Modify\n- docs/ARCHITECTURE.md (update)\n\n## Requirements\n- Update all references from five-stage to six-stage pipeline\n- Add Searched state to Pipeline Lifecycle (before Acquired)\n- Add Search rectangle to the PlantUML data flow diagram (before Acquisition)\n- Add SearchResult to Data Structures table (Table 1)\n- Add Search operation to Operations per Stage table (Table 2)\n- Add Search component section under System Components (before Acquisition)\n- Update Design Decision 4 title and content: search, extraction, and generation require internet; conversion and storage run offline\n- Add internal/search/ and magefiles/search.go to Project Structure and Package Roles (Table 4)\n- Update Implementation Status to reflect Foundation is nearly complete (VISION done, ARCHITECTURE updated, PRDs done, Mage scaffolding done)\n- Add PRD: Paper Search to Related Documents table (Table 6)\n- Add Academic search APIs (arXiv, Semantic Scholar) to Technology Choices table (Table 3)\n\n## Acceptance Criteria\n- [ ] No remaining references to five-stage pipeline\n- [ ] PlantUML diagram includes Search before Acquisition\n- [ ] Tables 1-6 include Search rows\n- [ ] Design Decision 4 reflects correct internet requirements\n- [ ] Project Structure includes search package and mage file","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T20:16:03.553225-05:00","created_by":"pdiddy","updated_at":"2026-02-09T22:12:03.891673-05:00","closed_at":"2026-02-09T22:12:03.891673-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-cgg.2","depends_on_id":"research-engine-cgg","type":"parent-child","created_at":"2026-02-09T20:16:03.554724-05:00","created_by":"pdiddy"}],"comments":[{"id":2,"issue_id":"research-engine-cgg.2","author":"pdiddy","text":"tokens: 18000","created_at":"2026-02-10T03:12:03Z"}]}
{"id":"research-engine-cgg.3","title":"Update README and Mage scaffolding for Search","description":"## Type\nCode + Documentation (mixed)\n\n## Required Reading\n- README.md\n- magefiles/magefile.go (Pipeline function, projectDirs)\n- magefiles/acquire.go (pattern for placeholder targets)\n- docs/specs/product-requirements/prd006-search.yaml (after it exists)\n\n## Files to Create/Modify\n- magefiles/search.go (create) - Search target stub\n- magefiles/magefile.go (modify) - Add search to Pipeline() sequence before download\n- README.md (modify) - Update five stages to six, add Search row to pipeline table\n\n## Requirements\n- Create magefiles/search.go with placeholder Search() target that prints what it will do\n- Update Pipeline() in magefile.go to run search before download\n- README: change five stages to six stages in the text\n- README: add Search row before Acquisition in the pipeline stages table, linking to prd006-search\n\n## Acceptance Criteria\n- [ ] mage -l lists search target\n- [ ] mage search runs and prints placeholder message\n- [ ] mage pipeline runs search as first stage\n- [ ] README pipeline table has 6 rows with Search first\n- [ ] Code follows go-style rules","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T20:16:11.589542-05:00","created_by":"pdiddy","updated_at":"2026-02-09T22:20:47.063987-05:00","closed_at":"2026-02-09T22:20:47.063987-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-cgg.3","depends_on_id":"research-engine-cgg","type":"parent-child","created_at":"2026-02-09T20:16:11.591187-05:00","created_by":"pdiddy"}],"comments":[{"id":3,"issue_id":"research-engine-cgg.3","author":"pdiddy","text":"tokens: 12000","created_at":"2026-02-10T03:20:46Z"}]}
{"id":"research-engine-cgg.4","title":"Update prd001-acquisition to reference Search","description":"## Type\nDocumentation\n\n## Required Reading\n- docs/specs/product-requirements/prd001-acquisition.yaml\n- docs/specs/product-requirements/prd006-search.yaml (after it exists)\n\n## Files to Modify\n- docs/specs/product-requirements/prd001-acquisition.yaml (update)\n\n## Requirements\n- Update non_goals: change the entry about researcher providing specific identifiers to acknowledge that identifiers typically come from the Search stage or are provided directly\n- Add a references field listing prd006-search as a related PRD\n- Minor wording only; do not restructure the PRD\n\n## Acceptance Criteria\n- [ ] prd001 acknowledges Search as an upstream source of identifiers\n- [ ] References field includes prd006-search\n- [ ] No structural changes to existing requirements","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T22:00:13.504799-05:00","created_by":"pdiddy","updated_at":"2026-02-09T22:17:03.166-05:00","closed_at":"2026-02-09T22:17:03.166-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-cgg.4","depends_on_id":"research-engine-cgg","type":"parent-child","created_at":"2026-02-09T22:00:13.506333-05:00","created_by":"pdiddy"}],"comments":[{"id":4,"issue_id":"research-engine-cgg.4","author":"pdiddy","text":"tokens: 8000","created_at":"2026-02-10T03:17:03Z"}]}
{"id":"research-engine-dn1","title":"Implement knowledge base store and retrieve in internal/knowledge","description":"## Type\nCode (~500 LOC, 3-4 files)\n\n## Required Reading\n- docs/specs/product-requirements/prd004-knowledge-base.yaml (R1-R6)\n- docs/ARCHITECTURE.md § Knowledge Base\n- pkg/types/knowledge.go (KnowledgeItem, ExtractionResult types)\n- internal/search/search.go (pattern reference)\n\n## Files to Create\n- internal/knowledge/store.go (create) - SQLite schema, ingest, incremental update\n- internal/knowledge/retrieve.go (create) - full-text search, structured queries, trace\n- internal/knowledge/export.go (create) - YAML and JSON export\n- internal/knowledge/knowledge_test.go (create) - table-driven tests\n\n## Requirements\n### Storage (R1)\n- Create SQLite database at knowledge/index/research.db (R1.2)\n- Create schema with items table (all KnowledgeItem fields) and papers table (R1.4, R1.5)\n- Create FTS5 virtual table on content field (R2.1)\n- Ingest KnowledgeItems from YAML files in knowledge/extracted/ (R1.1)\n- Write human-readable export.yaml on update (R1.6)\n\n### Full-Text Search (R2)\n- FTS5 search across content field (R2.1)\n- Results ranked by relevance (R2.2)\n- Configurable max results, default 20 (R2.3)\n- Results include KnowledgeItem fields and Paper metadata (R2.4)\n\n### Structured Queries (R3)\n- Filter by item type (R3.1)\n- Filter by tags (R3.2)\n- Filter by paper_id (R3.3)\n- Combine filters with AND (R3.4)\n- Combine full-text with structured filters (R3.5)\n- Sort by relevance or paper/section order (R3.6)\n\n### Provenance (R4)\n- Retrieved items include paper_id, section, page (R4.1)\n- Trace operation returns surrounding context from source Markdown (R4.2, R4.3)\n\n### Incremental Updates (R5)\n- Detect new/updated extraction files by modification time (R5.1)\n- Replace items for changed papers (R5.2)\n- Skip unchanged papers (R5.3)\n- Print status per paper (R5.4)\n- Return summary (R5.5)\n\n### Export (R6)\n- YAML export to knowledge/index/export.yaml (R6.1)\n- JSON export to knowledge/index/export.json (R6.2)\n- Include all fields (R6.3)\n- Support filtered export (R6.4)\n\n## Design Decisions\n- Use database/sql + mattn/go-sqlite3 per go-style\n- FTS5 virtual table for full-text search\n- QueryOptions struct with functional options for filter composition\n- Trace reads from papers/markdown/ using paper_id to locate source file\n\n## Acceptance Criteria\n- [ ] SQLite schema created with items, papers, and FTS5 tables\n- [ ] Ingestion from YAML extraction files works\n- [ ] Full-text search returns ranked results\n- [ ] Structured queries filter correctly by type, tag, paper_id\n- [ ] Combined queries (full-text + structured) work\n- [ ] Trace returns source context\n- [ ] Incremental update skips unchanged, replaces changed\n- [ ] Export produces valid YAML and JSON\n- [ ] Table-driven tests cover all operations","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:58:15.142721-05:00","created_by":"pdiddy","updated_at":"2026-02-11T21:15:31.276979-05:00","closed_at":"2026-02-11T21:15:31.276979-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-dn1","depends_on_id":"research-engine-9i3","type":"parent-child","created_at":"2026-02-11T18:58:40.588741-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-dn1","depends_on_id":"research-engine-auc","type":"blocks","created_at":"2026-02-11T18:58:40.971637-05:00","created_by":"pdiddy"}],"comments":[{"id":33,"issue_id":"research-engine-dn1","author":"petardjukic","text":"tokens: 80000","created_at":"2026-02-12T02:15:25Z"}]}
{"id":"research-engine-dod","title":"Implement citation graph and tagging in extraction","description":"## Type\nCode (~300 LOC)\n\n## Required Reading\n- docs/specs/product-requirements/prd003-extraction.yaml (R3, R4)\n- internal/extract/extract.go (from extraction core task)\n- pkg/types/knowledge.go (Citation, BibliographyEntry types)\n\n## Files to Create/Modify\n- internal/extract/citations.go (create) - citation parsing and bibliography extraction\n- internal/extract/extract.go (modify) - integrate citation and tagging into extraction flow\n- internal/extract/extract_test.go (modify) - add citation and tagging tests\n\n## Requirements\n- Parse bibliography/references section from structured Markdown (R3.2)\n- Produce BibliographyEntry list with available metadata: authors, title, year, venue (R3.2)\n- Identify inline citations in text (numeric [1], author-year [Smith et al., 2020]) (R3.1)\n- Link inline citations to bibliography entries when format allows matching (R3.3)\n- Store citation data alongside KnowledgeItems in output (R3.4)\n- Assign topic tags to each KnowledgeItem from paper vocabulary (R4.1, R4.2)\n- Tags must be lowercase, hyphenated (R4.2)\n- Assign paper-level tags summarizing overall topics (R4.3)\n- Store tags in Tags field on KnowledgeItem (R4.4)\n\n## Design Decisions\n- Citation parsing uses regex for numeric and author-year formats\n- Bibliography parsing can leverage AI response (include bib parsing in prompt)\n- Tags derived from AI extraction response (topic classification in prompt)\n\n## Acceptance Criteria\n- [ ] Bibliography section parsed into BibliographyEntry list\n- [ ] Numeric citations matched to bibliography entries\n- [ ] Author-year citations matched when possible\n- [ ] Topic tags assigned to items (lowercase, hyphenated)\n- [ ] Paper-level tags assigned\n- [ ] Tests cover: numeric citations, author-year citations, no bibliography, multiple citation formats","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:57:46.476161-05:00","created_by":"pdiddy","updated_at":"2026-02-11T21:45:31.044292-05:00","closed_at":"2026-02-11T21:45:31.044292-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-dod","depends_on_id":"research-engine-9i3","type":"parent-child","created_at":"2026-02-11T18:58:40.433089-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-dod","depends_on_id":"research-engine-1kq","type":"blocks","created_at":"2026-02-11T18:58:40.822452-05:00","created_by":"pdiddy"}],"comments":[{"id":36,"issue_id":"research-engine-dod","author":"petardjukic","text":"tokens: 45000","created_at":"2026-02-12T02:45:25Z"}]}
{"id":"research-engine-h8u","title":"Regenerate SPECIFICATIONS.md for Release 02.0","description":"## Type\nDocumentation\n\n## Required Reading\n- .claude/rules/specification-format.md\n- docs/VISION.md\n- docs/ARCHITECTURE.md\n- docs/road-map.yaml\n- All files in docs/specs/product-requirements/\n- All files in docs/specs/use-cases/\n- All files in docs/specs/test-suites/\n\n## Files to Create/Modify\n- docs/SPECIFICATIONS.md (create or overwrite)\n\n## Requirements\n- Regenerate from current data per specification-format rule\n- Overview references VISION.md and ARCHITECTURE.md\n- Roadmap Summary table covers all releases (01.0, 02.0, 03.0)\n- PRD Index lists all 6 PRDs with one-sentence summaries\n- Use Case Index lists all use cases (01.0 done + 02.0 new)\n- Test Suite Index lists all test suites\n- PRD-to-Use-Case Mapping with Why Required and Coverage columns\n- Traceability Diagram (PlantUML) showing PRD → use case → test suite links\n- Coverage Gaps section identifies any missing links\n\n## Format Rules\n- Follow specification-format rule\n- Tables named per documentation-standards\n- PlantUML inline per documentation-standards\n\n## Acceptance Criteria\n- [ ] All required sections present per specification-format checklist\n- [ ] All 6 PRDs indexed\n- [ ] All use cases indexed (01.0 + 02.0)\n- [ ] All test suites indexed\n- [ ] Traceability diagram covers all artifacts\n- [ ] Coverage gaps identified or \"No gaps\" stated","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:56:45.299438-05:00","created_by":"pdiddy","updated_at":"2026-02-11T19:27:35.96216-05:00","closed_at":"2026-02-11T19:27:35.96216-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-h8u","depends_on_id":"research-engine-bsi","type":"blocks","created_at":"2026-02-11T18:57:00.309642-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-h8u","depends_on_id":"research-engine-rv6","type":"blocks","created_at":"2026-02-11T18:57:00.397795-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-h8u","depends_on_id":"research-engine-6nr","type":"parent-child","created_at":"2026-02-11T18:57:00.633979-05:00","created_by":"pdiddy"}],"comments":[{"id":31,"issue_id":"research-engine-h8u","author":"petardjukic","text":"tokens: 45000","created_at":"2026-02-12T00:27:30Z"}]}
{"id":"research-engine-k7b","title":"Wire extraction CLI command","description":"## Type\nCode (~150 LOC, 1-2 files)\n\n## Required Reading\n- docs/specs/product-requirements/prd003-extraction.yaml (R6)\n- cmd/research-engine/extract.go (existing stub)\n- cmd/research-engine/convert.go (pattern reference for batch processing CLI)\n- internal/extract/extract.go (extraction implementation)\n- pkg/types/config.go (ExtractionConfig)\n\n## Files to Modify\n- cmd/research-engine/extract.go (modify) - replace stub with real implementation\n\n## Requirements\n- Replace \"not yet implemented\" stub with working command\n- Wire ExtractionConfig from Viper config and CLI flags\n- Accept optional paper IDs as positional args; default to all papers in papers/markdown/\n- Support --batch flag to process all unconverted papers\n- Call internal/extract functions with proper context\n- Print per-paper status to stdout (extracting, skipped, failed) per R6.3\n- Print batch summary at end (count extracted, skipped, failed) per R6.4\n- Return non-zero exit code if any paper fails per R6.5\n- Support --model flag to select AI model\n- Support --api-key flag (or RESEARCH_ENGINE_EXTRACTION_API_KEY env var)\n\n## Design Decisions\n- Follow same pattern as convert.go for batch processing and status output\n- Use Viper for config binding (env vars, config file, flags)\n\n## Acceptance Criteria\n- [ ] research-engine extract --help shows correct usage\n- [ ] Stub replaced with working implementation\n- [ ] Flags wire to ExtractionConfig\n- [ ] Status and summary printed correctly\n- [ ] Exit code reflects batch success/failure","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:57:57.113478-05:00","created_by":"pdiddy","updated_at":"2026-02-11T21:52:50.519973-05:00","closed_at":"2026-02-11T21:52:50.519973-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-k7b","depends_on_id":"research-engine-9i3","type":"parent-child","created_at":"2026-02-11T18:58:40.51362-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-k7b","depends_on_id":"research-engine-dod","type":"blocks","created_at":"2026-02-11T18:58:40.902134-05:00","created_by":"pdiddy"}],"comments":[{"id":37,"issue_id":"research-engine-k7b","author":"petardjukic","text":"tokens: 50000","created_at":"2026-02-12T02:52:45Z"}]}
{"id":"research-engine-kx2","title":"Clean up prd006-search: remove TODOs, add open questions","description":"## Required Reading\n- docs/specs/product-requirements/prd006-search.yaml\n\n## Files to Modify\n- docs/specs/product-requirements/prd006-search.yaml\n\n## Requirements\n- Remove stale TODO comment on line 1\n- Rewrite problem statement to remove self-referential phrasing\n- Remove raw unstructured notes block (lines 29-36)\n- Capture substantive ideas from notes as formal open_questions (Q1-Q6)\n- Add references section\n\n## Acceptance Criteria\n- [ ] No TODO or raw comment blocks remain\n- [ ] Problem statement reads cleanly without referencing itself\n- [ ] Open questions capture: Claude query parsing, query file persistence, CSL format, local file paths, Google Scholar, multi-database listing\n- [ ] File follows prd-format rule","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T08:16:11.505644-05:00","created_by":"pdiddy","updated_at":"2026-02-11T08:16:16.763458-05:00","closed_at":"2026-02-11T08:16:16.763458-05:00","close_reason":"Closed","labels":["docs"],"comments":[{"id":5,"issue_id":"research-engine-kx2","author":"pdiddy","text":"tokens: 5000","created_at":"2026-02-11T13:16:16Z"}]}
{"id":"research-engine-lc2","title":"Replace Mage pipeline orchestration with Cobra CLI","description":"Remove Mage as the pipeline orchestrator. Mage stays for developer tasks (build, test, lint, stats). Pipeline stages become Cobra subcommands in cmd/research-engine/. Researchers compose multi-stage workflows through prompts, not Mage target chaining.\n\nAffected: ARCHITECTURE.md, VISION.md, magefiles/, cmd/research-engine/ (new), existing code issues (lz3.5-lz3.7).","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-10T07:07:32.774438-05:00","created_by":"pdiddy","updated_at":"2026-02-11T08:03:59.907522-05:00","closed_at":"2026-02-11T08:03:59.907522-05:00","close_reason":"Closed"}
{"id":"research-engine-lc2.1","title":"Update ARCHITECTURE.md — replace Mage pipeline orchestration with Cobra CLI","description":"## Required Reading\n- docs/ARCHITECTURE.md (full document)\n- docs/VISION.md (for alignment on pipeline orchestration language)\n- .claude/rules/architecture-format.md\n- .claude/rules/documentation-standards.md\n\n## Files to Modify\n- docs/ARCHITECTURE.md (modify)\n\n## Requirements\n- Rewrite Decision 2 from \"Mage as Pipeline Orchestrator\" to \"Cobra CLI with Prompt-Based Composition\". Explain that each pipeline stage is a Cobra subcommand (research-engine search, acquire, convert, etc.), and the researcher composes multi-stage workflows through prompts or shell scripts rather than Mage target chaining\n- Update System Overview: replace \"Mage build targets orchestrate the stages\" with Cobra CLI language\n- Update Operations table (Table 2): replace \"Each operation is a Mage target\" with \"Each operation is a Cobra subcommand\"\n- Update Technology Choices (Table 3): change Mage row from \"Pipeline target orchestration, dependency resolution\" to \"Build automation, testing, developer tooling\"\n- Update Project Structure: remove per-stage magefiles (search.go, acquire.go, etc.); add cmd/research-engine/ with subcommand files; keep magefiles/ with only magefile.go for build/test/stats\n- Update Package Roles (Table 4): fix magefiles/ description to \"Build and developer tooling (build, test, lint, stats). No pipeline stage logic.\"\n- Update Implementation Status (Table 5): replace \"Mage scaffolding in place\" with \"Cobra CLI scaffolding in place\" (or similar)\n\n## Design Decisions\n- Mage stays for build/test/lint/stats (developer tasks only)\n- Pipeline stages are Cobra subcommands under cmd/research-engine/\n- No programmatic pipeline chaining; researchers use prompts or shell to compose stages\n\n## Acceptance Criteria\n- [ ] No reference to Mage as pipeline orchestrator remains in ARCHITECTURE.md\n- [ ] Decision 2 describes Cobra CLI and prompt-based composition\n- [ ] Technology Choices table reflects Mage as build-only tooling\n- [ ] Project Structure shows cmd/research-engine/ with subcommands\n- [ ] magefiles/ section lists only dev tooling files\n- [ ] Style follows documentation-standards (no forbidden terms, tables named)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T07:07:55.957284-05:00","created_by":"pdiddy","updated_at":"2026-02-10T07:15:47.571767-05:00","closed_at":"2026-02-10T07:15:47.571767-05:00","close_reason":"Closed","labels":["docs"],"dependencies":[{"issue_id":"research-engine-lc2.1","depends_on_id":"research-engine-lc2","type":"parent-child","created_at":"2026-02-10T07:07:55.958983-05:00","created_by":"pdiddy"}],"comments":[{"id":6,"issue_id":"research-engine-lc2.1","author":"pdiddy","text":"tokens: 15000","created_at":"2026-02-10T12:15:47Z"}]}
{"id":"research-engine-lc2.2","title":"Update VISION.md — remove Mage orchestration references","description":"## Required Reading\n- docs/VISION.md (full document)\n- .claude/rules/vision-format.md\n- .claude/rules/documentation-standards.md\n\n## Files to Modify\n- docs/VISION.md (modify)\n\n## Requirements\n- Executive Summary: replace \"a Go command-line tool backed by Mage build targets\" with language about a Go CLI with subcommands per stage\n- What We Do section: replace \"A Go CLI orchestrates these stages through Mage build targets\" with \"A Go CLI exposes each stage as a subcommand\" (or similar)\n- Implementation Phases table: change Foundation deliverables from \"Mage project skeleton\" to \"CLI project skeleton\" or \"Cobra CLI skeleton\"\n- Preserve all other content unchanged\n\n## Acceptance Criteria\n- [ ] No reference to Mage as pipeline orchestrator remains in VISION.md\n- [ ] Executive Summary describes the tool as a Go CLI (no Mage mention)\n- [ ] What We Do section describes stages as subcommands\n- [ ] Implementation Phases table reflects CLI skeleton, not Mage skeleton\n- [ ] Style follows documentation-standards","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T07:08:03.356094-05:00","created_by":"pdiddy","updated_at":"2026-02-10T07:25:53.932526-05:00","closed_at":"2026-02-10T07:25:53.932526-05:00","close_reason":"Closed","labels":["docs"],"dependencies":[{"issue_id":"research-engine-lc2.2","depends_on_id":"research-engine-lc2","type":"parent-child","created_at":"2026-02-10T07:08:03.357753-05:00","created_by":"pdiddy"}],"comments":[{"id":7,"issue_id":"research-engine-lc2.2","author":"pdiddy","text":"tokens: 22000","created_at":"2026-02-10T12:25:53Z"}]}
{"id":"research-engine-lc2.3","title":"Remove pipeline stage Mage stubs and clean up magefile.go","description":"## Required Reading\n- magefiles/magefile.go (Stats, Init, Pipeline functions)\n- magefiles/search.go, acquire.go, convert.go, extract.go, knowledge.go, generate.go (stubs to delete)\n- .claude/rules/go-style.md\n\n## Files to Delete\n- magefiles/search.go\n- magefiles/acquire.go\n- magefiles/convert.go\n- magefiles/extract.go\n- magefiles/knowledge.go\n- magefiles/generate.go\n\n## Files to Modify\n- magefiles/magefile.go (modify) - remove Pipeline() function that chains stage stubs\n\n## Requirements\n- Delete all six pipeline stage stub files from magefiles/\n- Remove the Pipeline() function from magefile.go (it orchestrates the deleted stubs)\n- Keep Stats() and Init() in magefile.go (developer tooling)\n- Keep any helper functions used by Stats() and Init()\n- Verify mage build still works after cleanup\n\n## Acceptance Criteria\n- [ ] No pipeline stage files remain in magefiles/ (only magefile.go)\n- [ ] Pipeline() function removed from magefile.go\n- [ ] Stats() and Init() still work\n- [ ] mage -l lists only dev tooling targets (no search, download, convert, etc.)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T07:08:16.227856-05:00","created_by":"pdiddy","updated_at":"2026-02-10T16:00:33.264645-05:00","closed_at":"2026-02-10T16:00:33.264645-05:00","close_reason":"Closed","labels":["code"],"dependencies":[{"issue_id":"research-engine-lc2.3","depends_on_id":"research-engine-lc2","type":"parent-child","created_at":"2026-02-10T07:08:16.22943-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-lc2.3","depends_on_id":"research-engine-lc2.1","type":"blocks","created_at":"2026-02-10T07:11:34.08719-05:00","created_by":"pdiddy"}],"comments":[{"id":8,"issue_id":"research-engine-lc2.3","author":"pdiddy","text":"tokens: 30000","created_at":"2026-02-10T21:00:32Z"}]}
{"id":"research-engine-lc2.4","title":"Create Cobra CLI scaffolding in cmd/research-engine/","description":"## Required Reading\n- docs/ARCHITECTURE.md § Project Structure (after lc2.1 updates it)\n- docs/specs/product-requirements/prd006-search.yaml (search subcommand flags)\n- docs/specs/product-requirements/prd001-acquisition.yaml (acquire subcommand flags)\n- docs/specs/product-requirements/prd002-conversion.yaml (convert subcommand flags)\n- .claude/rules/go-style.md (Cobra, Viper, naming conventions)\n\n## Files to Create\n- cmd/research-engine/main.go (create) - root command, Viper config setup\n- cmd/research-engine/search.go (create) - search subcommand stub\n- cmd/research-engine/acquire.go (create) - acquire subcommand stub\n- cmd/research-engine/convert.go (create) - convert subcommand stub\n- cmd/research-engine/extract.go (create) - extract subcommand stub\n- cmd/research-engine/store.go (create) - store subcommand stub\n- cmd/research-engine/generate.go (create) - generate subcommand stub\n- cmd/research-engine/version.go (create) - version subcommand\n\n## Files to Modify\n- go.mod (modify) - add cobra and viper dependencies\n\n## Requirements\n- Root command with project description and usage help\n- Six pipeline subcommands (search, acquire, convert, extract, store, generate) that print \"not yet implemented\" and exit 1\n- Version subcommand that prints version string and exits 0\n- Wire Viper for configuration file support (research-engine.yaml or ~/.config/research-engine/config.yaml)\n- Each subcommand registers flags matching the PRD requirements (e.g. search: --author, --from, --to, --max-results, --json; acquire: --timeout; convert: --backend, --batch)\n- go build ./cmd/research-engine compiles successfully\n\n## Design Decisions\n- One file per subcommand in cmd/research-engine/ (Cobra convention)\n- Flags registered in each subcommand's init() function\n- Viper binds config file values to Cobra flags\n- Subcommand RunE functions will later call into internal/ packages\n\n## Acceptance Criteria\n- [ ] go build ./cmd/research-engine produces a binary\n- [ ] research-engine --help shows all subcommands\n- [ ] research-engine search --help shows search-specific flags\n- [ ] research-engine version prints a version string\n- [ ] Each pipeline subcommand prints \"not yet implemented\" and exits 1\n- [ ] Viper configuration wired for config file and environment variables\n- [ ] go.mod includes cobra and viper dependencies","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-10T07:08:30.188438-05:00","created_by":"pdiddy","updated_at":"2026-02-10T16:13:38.384608-05:00","closed_at":"2026-02-10T16:13:38.384608-05:00","close_reason":"Closed","labels":["code"],"dependencies":[{"issue_id":"research-engine-lc2.4","depends_on_id":"research-engine-lc2","type":"parent-child","created_at":"2026-02-10T07:08:30.190375-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-lc2.4","depends_on_id":"research-engine-lc2.1","type":"blocks","created_at":"2026-02-10T07:11:34.151618-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-lc2.4","depends_on_id":"research-engine-lc2.3","type":"blocks","created_at":"2026-02-10T07:11:34.207253-05:00","created_by":"pdiddy"}],"comments":[{"id":9,"issue_id":"research-engine-lc2.4","author":"pdiddy","text":"tokens: 40000","created_at":"2026-02-10T21:13:38Z"}]}
{"id":"research-engine-lz3","title":"Core Pipeline Implementation","description":"Implement the first three pipeline stages (Search, Acquisition, Conversion) plus shared infrastructure (types, container runtime). This epic covers the Core Pipeline phase from ARCHITECTURE.md. The conversion stage uses the markitdown container pattern from scripts/markitdown-converter.sh with docker-first/podman-fallback runtime detection.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-02-09T22:41:50.600546-05:00","created_by":"pdiddy","updated_at":"2026-02-11T08:04:00.348939-05:00","closed_at":"2026-02-11T08:04:00.348939-05:00","close_reason":"Closed","labels":["phase:core-pipeline"]}
{"id":"research-engine-lz3.1","title":"Create road-map.yaml and initial use cases","description":"## Required Reading\n- docs/VISION.md (phases, success criteria)\n- docs/ARCHITECTURE.md (pipeline stages, implementation status)\n- All 6 PRDs in docs/specs/product-requirements/\n- .claude/rules/use-case-format.md (use case structure)\n- .claude/rules/test-case-format.md (test suite structure)\n\n## Files to Create\n- docs/road-map.yaml (create)\n- docs/specs/use-cases/rel01.0-uc001-pdf-conversion.yaml (create)\n- docs/specs/use-cases/rel01.0-uc002-paper-acquisition.yaml (create)\n- docs/specs/use-cases/rel01.0-uc003-paper-search.yaml (create)\n- docs/specs/test-suites/test-rel01.0-uc001-pdf-conversion.yaml (create)\n- docs/specs/test-suites/test-rel01.0-uc002-paper-acquisition.yaml (create)\n- docs/specs/test-suites/test-rel01.0-uc003-paper-search.yaml (create)\n\n## Requirements\n- Road-map covers all 6 pipeline stages across implementation phases (Foundation done, Core Pipeline, Knowledge, Generation)\n- Release 01.0 covers Search, Acquisition, and Conversion (Core Pipeline phase)\n- Each use case includes flow, touchpoints, success criteria, and test_suite reference\n- Each test suite traces to its use case and includes concrete test cases with inputs and expected outputs\n\n## Acceptance Criteria\n- [ ] road-map.yaml exists with releases mapped to pipeline phases\n- [ ] Three use cases for release 01.0 exist and follow use-case-format\n- [ ] Three test suites exist and follow test-case-format\n- [ ] Each use case references its test suite\n- [ ] Each test suite traces to its use case","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-09T22:42:02.268717-05:00","created_by":"pdiddy","updated_at":"2026-02-10T07:00:17.80431-05:00","closed_at":"2026-02-10T07:00:17.80431-05:00","close_reason":"Closed","labels":["docs"],"dependencies":[{"issue_id":"research-engine-lz3.1","depends_on_id":"research-engine-lz3","type":"parent-child","created_at":"2026-02-09T22:42:02.270925-05:00","created_by":"pdiddy"}],"comments":[{"id":10,"issue_id":"research-engine-lz3.1","author":"pdiddy","text":"tokens: 45000","created_at":"2026-02-10T12:00:17Z"}]}
{"id":"research-engine-lz3.10","title":"Update README.md — replace Mage references with Cobra CLI","description":"## Required Reading\n- README.md (current content)\n- docs/VISION.md (project description)\n- cmd/research-engine/*.go (current subcommands and flags)\n\n## Files to Modify\n- README.md\n\n## Requirements\n- Replace Mage pipeline targets (mage search, mage download, etc.) with Cobra CLI commands (research-engine search, research-engine acquire, research-engine convert)\n- Show current flags for each implemented subcommand (search: --query, --author, --keywords, --json, etc.; acquire: --timeout, --delay; convert: --backend, --batch)\n- Update prerequisites: Go 1.25+, container runtime (Docker or Podman) for conversion, no Mage dependency for running\n- Add build instructions: go build ./cmd/research-engine/\n- Update project description to match VISION.md\n- Follow documentation-standards rule\n\n## Acceptance Criteria\n- [ ] No Mage references remain for pipeline operations\n- [ ] All three implemented subcommands documented with flags\n- [ ] Build and install instructions correct\n- [ ] Prerequisites accurate","status":"closed","priority":3,"issue_type":"task","created_at":"2026-02-11T08:03:56.074204-05:00","created_by":"pdiddy","updated_at":"2026-02-11T18:50:02.49456-05:00","closed_at":"2026-02-11T18:50:02.49456-05:00","close_reason":"Closed","labels":["docs"],"dependencies":[{"issue_id":"research-engine-lz3.10","depends_on_id":"research-engine-lz3","type":"parent-child","created_at":"2026-02-11T08:03:56.075806-05:00","created_by":"pdiddy"}],"comments":[{"id":11,"issue_id":"research-engine-lz3.10","author":"pdiddy","text":"tokens: 18000","created_at":"2026-02-11T23:50:02Z"}]}
{"id":"research-engine-lz3.2","title":"Update prd002-conversion for container runtime strategy","description":"## Required Reading\n- docs/specs/product-requirements/prd002-conversion.yaml (current conversion PRD)\n- scripts/markitdown-converter.sh (existing conversion script using podman + markitdown container)\n- docs/ARCHITECTURE.md § Conversion, § Technology Choices\n\n## Files to Modify\n- docs/specs/product-requirements/prd002-conversion.yaml (modify R5 section)\n\n## Requirements\n- Add markitdown container as a supported conversion backend alongside GROBID and pdftotext in R5\n- Add container runtime requirements: try docker first, fall back to podman if docker is unavailable\n- Add requirement for container image detection (docker image inspect / podman image exists)\n- Add requirement for runtime auto-detection function that returns the available runtime\n- The conversion pattern matches the existing script: pipe PDF via stdin, capture Markdown on stdout\n- Update non_goals if needed to clarify we do not require both docker and podman to be installed\n\n## Acceptance Criteria\n- [ ] R5 section includes markitdown container as a backend option\n- [ ] R5 includes docker-first/podman-fallback runtime detection requirements\n- [ ] R5 includes container image existence check requirements\n- [ ] Requirements are numbered and specific per prd-format\n- [ ] Non-goals updated if necessary","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-09T22:42:12.050744-05:00","created_by":"pdiddy","updated_at":"2026-02-10T07:22:36.390426-05:00","closed_at":"2026-02-10T07:22:36.390426-05:00","close_reason":"Closed","labels":["docs"],"dependencies":[{"issue_id":"research-engine-lz3.2","depends_on_id":"research-engine-lz3","type":"parent-child","created_at":"2026-02-09T22:42:12.052234-05:00","created_by":"pdiddy"}],"comments":[{"id":12,"issue_id":"research-engine-lz3.2","author":"pdiddy","text":"tokens: 15000","created_at":"2026-02-10T12:22:36Z"}]}
{"id":"research-engine-lz3.3","title":"Implement shared types in pkg/types/","description":"## Required Reading\n- docs/ARCHITECTURE.md § Pipeline Interface, § Data Structures\n- docs/specs/product-requirements/prd001-acquisition.yaml (Paper, metadata fields)\n- docs/specs/product-requirements/prd002-conversion.yaml (conversion status)\n- docs/specs/product-requirements/prd003-extraction.yaml (KnowledgeItem types)\n- docs/specs/product-requirements/prd005-generation.yaml (Draft structure)\n- docs/specs/product-requirements/prd006-search.yaml (SearchResult fields)\n- .claude/rules/go-style.md\n\n## Files to Create\n- pkg/types/paper.go (create) - Paper struct, conversion status constants\n- pkg/types/search.go (create) - SearchResult struct, query parameters\n- pkg/types/knowledge.go (create) - KnowledgeItem struct, item type constants\n- pkg/types/config.go (create) - Pipeline config, stage-specific config structs\n\n## Requirements\n- Define SearchResult with fields per prd006-search R4.1 (identifier, title, authors, abstract, date, source, relevance score, preferred acquisition ID)\n- Define Paper with fields per prd001-acquisition R3.2 (source URL, local PDF path, title, authors, date, abstract, conversion status)\n- Define KnowledgeItem with fields per prd003-extraction (type enum: claim/method/definition/result, provenance: paper ID, section, page)\n- Define Draft with citation links per prd005-generation\n- Define Config structs for pipeline and per-stage configuration\n- All types in pkg/types/ with no implementation logic\n\n## Design Decisions\n- Use string enums (type aliases with constants) for item types and conversion status\n- Config structs use struct embedding for shared fields (e.g. HTTP timeout, user agent)\n\n## Acceptance Criteria\n- [ ] All four type files compile\n- [ ] SearchResult, Paper, KnowledgeItem, Draft structs match PRD field specs\n- [ ] Config struct covers pipeline-wide and per-stage settings\n- [ ] Package doc comment lists implemented PRDs\n- [ ] No implementation logic in pkg/types/ (types and constants only)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-09T22:42:24.677227-05:00","created_by":"pdiddy","updated_at":"2026-02-10T07:30:38.606033-05:00","closed_at":"2026-02-10T07:30:38.606033-05:00","close_reason":"Closed","labels":["code"],"dependencies":[{"issue_id":"research-engine-lz3.3","depends_on_id":"research-engine-lz3","type":"parent-child","created_at":"2026-02-09T22:42:24.678742-05:00","created_by":"pdiddy"}],"comments":[{"id":13,"issue_id":"research-engine-lz3.3","author":"pdiddy","text":"tokens: 45000","created_at":"2026-02-10T12:30:38Z"}]}
{"id":"research-engine-lz3.4","title":"Implement container runtime detection (docker/podman fallback)","description":"## Required Reading\n- docs/specs/product-requirements/prd002-conversion.yaml (updated R5 with container runtime requirements)\n- scripts/markitdown-converter.sh (existing pattern: podman run --rm -i markitdown:latest \u003c input \u003e output)\n- .claude/rules/go-style.md (Strategy pattern, no magic strings, error handling)\n\n## Files to Create\n- internal/container/runtime.go (create) - ContainerRuntime interface, DetectRuntime, docker/podman implementations\n- internal/container/runtime_test.go (create) - tests for detection, image check, and run\n\n## Requirements\n- Define ContainerRuntime interface with methods: Available() bool, ImageExists(image string) error, Run(image string, stdin io.Reader, stdout io.Writer) error\n- Implement DockerRuntime and PodmanRuntime structs satisfying the interface\n- DetectRuntime() function that tries docker first (checks 'docker info'), falls back to podman ('podman info'), returns error if neither available\n- ImageExists checks via 'docker image inspect \u003cimage\u003e' or 'podman image exists \u003cimage\u003e'\n- Run executes 'docker/podman run --rm -i \u003cimage\u003e' piping stdin/stdout\n- Binary names as constants (binDocker, binPodman)\n- Wrap all errors with context per go-style\n\n## Design Decisions\n- Strategy pattern: ContainerRuntime interface with two implementations\n- DetectRuntime returns the first available runtime, not both\n- Run accepts io.Reader/io.Writer for stdin/stdout to match the markitdown pipe pattern\n- Use exec.LookPath for initial binary detection before calling 'info'\n\n## Acceptance Criteria\n- [ ] DetectRuntime returns docker when docker is available\n- [ ] DetectRuntime returns podman when docker is unavailable but podman is available\n- [ ] DetectRuntime returns descriptive error when neither is available\n- [ ] ImageExists returns nil when image exists, error when it does not\n- [ ] Run pipes stdin to container and captures stdout\n- [ ] All binary names are constants\n- [ ] Tests cover all three detection scenarios (docker, podman fallback, neither)","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-09T22:42:36.827033-05:00","created_by":"pdiddy","updated_at":"2026-02-10T16:30:31.897729-05:00","closed_at":"2026-02-10T16:30:31.897729-05:00","close_reason":"Closed","labels":["code"],"dependencies":[{"issue_id":"research-engine-lz3.4","depends_on_id":"research-engine-lz3","type":"parent-child","created_at":"2026-02-09T22:42:36.828543-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-lz3.4","depends_on_id":"research-engine-lz3.2","type":"blocks","created_at":"2026-02-09T22:42:36.83089-05:00","created_by":"pdiddy"}],"comments":[{"id":14,"issue_id":"research-engine-lz3.4","author":"pdiddy","text":"tokens: 30000","created_at":"2026-02-10T21:30:31Z"}]}
{"id":"research-engine-lz3.5","title":"Implement PDF conversion stage with markitdown backend","description":"## Required Reading\n- docs/specs/product-requirements/prd002-conversion.yaml (full conversion requirements)\n- internal/container/runtime.go (container runtime interface from issue lz3.4)\n- pkg/types/paper.go (Paper struct from issue lz3.3)\n- cmd/research-engine/convert.go (Cobra subcommand from issue lc2.4)\n- scripts/markitdown-converter.sh (existing conversion pattern)\n- .claude/rules/go-style.md (Strategy pattern, Facade, error handling)\n\n## Files to Create\n- internal/convert/convert.go (create) - Converter interface, ConvertPaper function, batch processing\n- internal/convert/markitdown.go (create) - MarkitdownConverter implementation using container runtime\n- internal/convert/convert_test.go (create) - tests\n\n## Files to Modify\n- cmd/research-engine/convert.go (modify) - wire Cobra subcommand to real implementation in internal/convert/\n\n## Requirements\n- Define Converter interface with Convert(pdfPath string) (string, error) method\n- Implement MarkitdownConverter that uses internal/container to run markitdown:latest\n- ConvertPaper function: reads PDF, pipes through container, writes Markdown to papers/markdown/\n- Output Markdown includes YAML frontmatter (paper ID, source PDF path, conversion timestamp)\n- Batch processing: accept list of PDF paths or Paper records, process each\n- Idempotent: skip papers whose Markdown output already exists (R6.2)\n- Progress reporting: print status per paper (converting, skipped, failed) per R6.3\n- Summary at end of batch (converted, skipped, failed counts) per R6.4\n- Post-processing: normalize section headings, insert page markers (R5.4)\n- Create papers/markdown/ directory if it does not exist (R4.2)\n- Wire cmd/research-engine/convert.go Cobra subcommand to call the real implementation\n\n## Design Decisions\n- Strategy pattern for Converter interface (markitdown first, GROBID/pdftotext can be added later)\n- MarkitdownConverter accepts a ContainerRuntime dependency (injected, not created internally)\n- Batch function returns a BatchResult struct with counts matching the script's summary pattern\n\n## Acceptance Criteria\n- [ ] research-engine convert processes PDFs in papers/raw/ and writes Markdown to papers/markdown/\n- [ ] Output Markdown has YAML frontmatter with paper ID, source path, timestamp\n- [ ] Existing Markdown files are skipped (idempotent)\n- [ ] Per-file status printed to stdout\n- [ ] Batch summary printed at end\n- [ ] Converter interface allows adding new backends without modifying existing code\n- [ ] Tests cover single conversion, skip-existing, and batch processing","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-09T22:42:52.900382-05:00","created_by":"pdiddy","updated_at":"2026-02-10T19:16:50.197964-05:00","closed_at":"2026-02-10T19:16:50.197964-05:00","close_reason":"Closed","labels":["code"],"dependencies":[{"issue_id":"research-engine-lz3.5","depends_on_id":"research-engine-lz3","type":"parent-child","created_at":"2026-02-09T22:42:52.901906-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-lz3.5","depends_on_id":"research-engine-lz3.3","type":"blocks","created_at":"2026-02-09T22:42:52.904406-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-lz3.5","depends_on_id":"research-engine-lz3.4","type":"blocks","created_at":"2026-02-09T22:42:52.906191-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-lz3.5","depends_on_id":"research-engine-lc2.4","type":"blocks","created_at":"2026-02-10T07:11:34.267829-05:00","created_by":"pdiddy"}],"comments":[{"id":15,"issue_id":"research-engine-lz3.5","author":"pdiddy","text":"tokens: 55000","created_at":"2026-02-11T00:16:47Z"}]}
{"id":"research-engine-lz3.6","title":"Implement paper acquisition stage","description":"## Required Reading\n- docs/specs/product-requirements/prd001-acquisition.yaml (full acquisition requirements)\n- pkg/types/paper.go (Paper struct from issue lz3.3)\n- pkg/types/config.go (Config struct from issue lz3.3)\n- cmd/research-engine/acquire.go (Cobra subcommand from issue lc2.4)\n- docs/ARCHITECTURE.md § Acquisition\n- .claude/rules/go-style.md\n\n## Files to Create\n- internal/acquire/acquire.go (create) - Acquire function, batch processing, metadata writing\n- internal/acquire/resolve.go (create) - identifier resolution (arXiv, DOI, direct URL)\n- internal/acquire/acquire_test.go (create) - tests for resolution, download, metadata\n\n## Files to Modify\n- cmd/research-engine/acquire.go (modify) - wire Cobra subcommand to real implementation in internal/acquire/\n\n## Requirements\n- Accept arXiv IDs (e.g. '2301.07041', 'arXiv:2301.07041'), DOIs, and direct PDF URLs (R1)\n- Resolve arXiv IDs to PDF download URLs at arxiv.org (R1.1)\n- Resolve DOIs via content negotiation or publisher redirect (R1.2)\n- Download PDF to papers/raw/ with slug-based naming (R2.1, R2.2)\n- Use temporary file during download, rename on completion (R2.5)\n- Create Paper metadata record with source URL, local path, title, authors, date, abstract (R3)\n- For arXiv papers, retrieve metadata from arXiv API (R3.3)\n- Write metadata YAML to papers/metadata/ (R3.6)\n- Idempotent: skip download if PDF already exists (R2.4)\n- Batch processing with per-paper status and summary (R4)\n- Configurable timeout (default 60s) and rate limiting (default 1s delay) (R2.6, R5.1)\n- User-Agent header (R5.2), follow redirects up to 10 hops (R5.3)\n\n## Design Decisions\n- Resolver pattern: separate functions for arXiv, DOI, and URL resolution\n- Metadata extraction uses arXiv API XML response and CrossRef JSON\n- YAML for metadata files (human-readable, version-controllable)\n\n## Acceptance Criteria\n- [ ] research-engine acquire accepts arXiv ID and downloads the paper\n- [ ] research-engine acquire accepts DOI and downloads the paper\n- [ ] research-engine acquire accepts direct PDF URL and downloads the paper\n- [ ] Metadata YAML written alongside each PDF\n- [ ] Existing papers are skipped\n- [ ] Batch processing continues after individual failures\n- [ ] Tests cover arXiv resolution, DOI resolution, URL passthrough, and skip-existing","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T22:43:07.613202-05:00","created_by":"pdiddy","updated_at":"2026-02-11T07:04:42.780707-05:00","closed_at":"2026-02-11T07:04:42.780707-05:00","close_reason":"Closed","labels":["code"],"dependencies":[{"issue_id":"research-engine-lz3.6","depends_on_id":"research-engine-lz3","type":"parent-child","created_at":"2026-02-09T22:43:07.614819-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-lz3.6","depends_on_id":"research-engine-lz3.3","type":"blocks","created_at":"2026-02-09T22:43:07.617475-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-lz3.6","depends_on_id":"research-engine-lc2.4","type":"blocks","created_at":"2026-02-10T07:11:34.325627-05:00","created_by":"pdiddy"}],"comments":[{"id":16,"issue_id":"research-engine-lz3.6","author":"pdiddy","text":"tokens: 60000","created_at":"2026-02-11T12:04:42Z"}]}
{"id":"research-engine-lz3.7","title":"Implement paper search stage","description":"## Required Reading\n- docs/specs/product-requirements/prd006-search.yaml (full search requirements)\n- pkg/types/search.go (SearchResult struct from issue lz3.3)\n- pkg/types/config.go (Config struct from issue lz3.3)\n- cmd/research-engine/search.go (Cobra subcommand from issue lc2.4)\n- docs/ARCHITECTURE.md § Search\n- .claude/rules/go-style.md (Strategy pattern for backends)\n\n## Files to Create\n- internal/search/search.go (create) - Search function, backend fan-out, deduplication, ranking\n- internal/search/arxiv.go (create) - arXiv API backend implementation\n- internal/search/semantic.go (create) - Semantic Scholar API backend implementation\n- internal/search/search_test.go (create) - tests for query, backends, dedup, ranking\n\n## Files to Modify\n- cmd/research-engine/search.go (modify) - wire Cobra subcommand to real implementation in internal/search/\n\n## Requirements\n- Accept free-text research questions (R1.1)\n- Accept structured query parameters: author, title keywords, abstract keywords, date range (R1.2)\n- Query arXiv API (export.arxiv.org) (R2.1)\n- Query Semantic Scholar Academic Graph API (R2.2)\n- Each backend independently configurable (R2.3)\n- Continue with remaining backends when one fails (R2.5)\n- Deduplicate across backends by DOI, arXiv ID, or title similarity (R3.1)\n- Merge metadata from duplicate sources preferring more complete fields (R3.2)\n- Rank by relevance with optional recency bias (R3.3, R3.4)\n- Output human-readable table to stdout (R4.2)\n- Support --json flag for programmatic output (R4.3)\n- Each result includes preferred acquisition identifier (R4.4)\n- Rate limiting: arXiv 1 req/3s, Semantic Scholar 100 req/5min (R5.2, R5.3)\n- User-Agent header and configurable timeout (R5.4, R5.6)\n\n## Design Decisions\n- Strategy pattern: SearchBackend interface with ArxivBackend and SemanticScholarBackend\n- Fan-out queries to all enabled backends concurrently (goroutines with WaitGroup)\n- Deduplication uses normalized title comparison when identifiers do not match\n- Backend interface extensible for future sources\n\n## Acceptance Criteria\n- [ ] research-engine search returns results for a free-text query against arXiv\n- [ ] research-engine search returns results for a free-text query against Semantic Scholar\n- [ ] Combined results are deduplicated and ranked\n- [ ] JSON output flag produces valid JSON\n- [ ] Search continues when one backend fails\n- [ ] Rate limiting delays are applied\n- [ ] Tests cover single-backend queries, deduplication, and ranking","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T22:43:21.486825-05:00","created_by":"pdiddy","updated_at":"2026-02-11T08:00:30.41948-05:00","closed_at":"2026-02-11T08:00:30.41948-05:00","close_reason":"Closed","labels":["code"],"dependencies":[{"issue_id":"research-engine-lz3.7","depends_on_id":"research-engine-lz3","type":"parent-child","created_at":"2026-02-09T22:43:21.488578-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-lz3.7","depends_on_id":"research-engine-lz3.3","type":"blocks","created_at":"2026-02-09T22:43:21.491011-05:00","created_by":"pdiddy"},{"issue_id":"research-engine-lz3.7","depends_on_id":"research-engine-lc2.4","type":"blocks","created_at":"2026-02-10T07:11:34.383078-05:00","created_by":"pdiddy"}],"comments":[{"id":17,"issue_id":"research-engine-lz3.7","author":"pdiddy","text":"tokens: 55000","created_at":"2026-02-11T13:00:30Z"}]}
{"id":"research-engine-lz3.8","title":"Update road-map.yaml — mark Release 01.0 use cases as done","description":"## Required Reading\n- docs/road-map.yaml\n- internal/search/, internal/acquire/, internal/convert/ (verify implementations exist)\n\n## Files to Modify\n- docs/road-map.yaml\n\n## Requirements\n- Update status of rel01.0-uc001-pdf-conversion to done\n- Update status of rel01.0-uc002-paper-acquisition to done\n- Update status of rel01.0-uc003-paper-search to done\n- Update release 01.0 status from not_started to done (or in_progress if gaps remain)\n\n## Acceptance Criteria\n- [ ] All three use case statuses reflect implementation state\n- [ ] Release 01.0 status updated\n- [ ] File follows existing YAML format","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-11T08:03:40.230803-05:00","created_by":"pdiddy","updated_at":"2026-02-11T18:48:26.775254-05:00","closed_at":"2026-02-11T18:48:26.775254-05:00","close_reason":"Closed","labels":["docs"],"dependencies":[{"issue_id":"research-engine-lz3.8","depends_on_id":"research-engine-lz3","type":"parent-child","created_at":"2026-02-11T08:03:40.232324-05:00","created_by":"pdiddy"}],"comments":[{"id":18,"issue_id":"research-engine-lz3.8","author":"pdiddy","text":"tokens: 8000","created_at":"2026-02-11T23:48:26Z"}]}
{"id":"research-engine-lz3.9","title":"Update ARCHITECTURE.md implementation status for Release 01.0","description":"## Required Reading\n- docs/ARCHITECTURE.md (§ Implementation Status)\n- internal/search/, internal/acquire/, internal/convert/, internal/container/\n- docs/road-map.yaml\n\n## Files to Modify\n- docs/ARCHITECTURE.md\n\n## Requirements\n- Update Implementation Status section to reflect that Search, Acquisition, and Conversion stages are implemented\n- Update any references to \"No stage implementation code written yet\"\n- List implemented packages: internal/search, internal/acquire, internal/convert, internal/container\n- Follow architecture-format and documentation-standards rules\n\n## Acceptance Criteria\n- [ ] Implementation Status section accurately reflects current state\n- [ ] No stale \"not yet implemented\" references remain for completed stages\n- [ ] Style follows documentation-standards","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-11T08:03:47.46378-05:00","created_by":"pdiddy","updated_at":"2026-02-11T18:48:59.160043-05:00","closed_at":"2026-02-11T18:48:59.160043-05:00","close_reason":"Closed","labels":["docs"],"dependencies":[{"issue_id":"research-engine-lz3.9","depends_on_id":"research-engine-lz3","type":"parent-child","created_at":"2026-02-11T08:03:47.465253-05:00","created_by":"pdiddy"}],"comments":[{"id":19,"issue_id":"research-engine-lz3.9","author":"pdiddy","text":"tokens: 12000","created_at":"2026-02-11T23:48:59Z"}]}
{"id":"research-engine-rv6","title":"Create use case and test suite for knowledge base storage (rel02.0-uc002)","description":"## Type\nDocumentation\n\n## Required Reading\n- docs/specs/product-requirements/prd004-knowledge-base.yaml\n- docs/ARCHITECTURE.md § Knowledge Base\n- docs/specs/use-cases/rel01.0-uc001-pdf-conversion.yaml (format reference)\n- docs/specs/test-suites/test-rel01.0-uc001-pdf-conversion.yaml (format reference)\n- .claude/rules/use-case-format.md\n- .claude/rules/test-case-format.md\n\n## Files to Create/Modify\n- docs/specs/use-cases/rel02.0-uc002-knowledge-base-storage.yaml (create)\n- docs/specs/test-suites/test-rel02.0-uc002-knowledge-base-storage.yaml (create)\n- docs/road-map.yaml (update: set uc002 status)\n\n## Requirements\n- Use case must trace a complete knowledge base path: researcher runs store to ingest extracted items, then queries by full-text search, structured filters, or combination\n- Actor: Researcher who has extracted knowledge items\n- Trigger: Running research-engine knowledge store / retrieve / export\n- Flow covers: ingesting YAML extraction files, creating SQLite schema with FTS5, full-text search, structured queries (type, tag, paper), trace to source, incremental updates, export to YAML/JSON\n- Touchpoints reference prd004-knowledge-base R1-R6\n- Success criteria map to prd004 acceptance criteria\n- Test suite must have test cases for: store ingestion, full-text search, structured query by type, query by tag, combined query, trace operation, incremental update (skip unchanged, replace changed), export YAML, export JSON\n\n## Format Rules\n- Use case: follow use-case-format rule\n- Test suite: follow test-case-format rule\n\n## Acceptance Criteria\n- [ ] Use case has all required fields\n- [ ] Test suite has test cases covering all prd004 acceptance criteria\n- [ ] road-map.yaml updated\n- [ ] Files saved at correct paths","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T18:56:35.956323-05:00","created_by":"pdiddy","updated_at":"2026-02-11T19:14:28.019138-05:00","closed_at":"2026-02-11T19:14:28.019138-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-rv6","depends_on_id":"research-engine-6nr","type":"parent-child","created_at":"2026-02-11T18:57:00.559873-05:00","created_by":"pdiddy"}],"comments":[{"id":30,"issue_id":"research-engine-rv6","author":"petardjukic","text":"tokens: 45000","created_at":"2026-02-12T00:14:22Z"}]}
{"id":"research-engine-xb9","title":"Research Pipeline Foundation","description":"Establish the foundational documentation and scaffolding for the research paper management system.\n\n## Goal\nCreate VISION, ARCHITECTURE, and PRDs that define the complete pipeline from paper acquisition through knowledge extraction to paper generation.\n\n## Deliverables\n1. VISION.md - Project purpose and success criteria\n2. ARCHITECTURE.md - Pipeline stages, components, data flow\n3. PRDs for each pipeline stage (Acquisition, Conversion, Extraction, Knowledge Base, Generation)\n4. Mage scaffolding with empty targets\n\n## Acceptance Criteria\n- All documentation follows format rules in .claude/rules/\n- PRDs define clear requirements for each stage\n- Mage project compiles with placeholder targets","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-02-09T18:15:55.721901-05:00","created_by":"pdiddy","updated_at":"2026-02-09T19:53:55.117222-05:00","closed_at":"2026-02-09T19:53:55.117222-05:00","close_reason":"Closed"}
{"id":"research-engine-xb9.1","title":"Create VISION.md","description":"## Type\nDocumentation\n\n## Required Reading\n- .claude/rules/vision-format.md\n- .claude/rules/documentation-standards.md\n\n## Files to Create\n- docs/VISION.md\n\n## Required Sections (per vision-format rule)\n1. Executive Summary - What the project is, what it is not\n2. Introduction - Research context, the problem, what this does\n3. Why This Project - Why build a personal research pipeline\n4. Planning and Implementation - Success criteria, what done looks like, phases, risks\n5. What This Is NOT - Boundaries (not a paper database, not an LLM, not a citation manager)\n\n## Content Hints\n- Problem: Managing research papers end-to-end is fragmented across tools\n- Solution: Unified Go/Mage pipeline from acquisition to paper generation\n- Success: Can download a paper, extract knowledge, and use it in new writing\n- Phases: Foundation (docs), Core Pipeline (acquisition/conversion), Knowledge (extraction/base), Generation\n\n## Acceptance Criteria\n- [ ] All required sections present per vision-format\n- [ ] Style follows documentation-standards\n- [ ] File saved at docs/VISION.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T18:16:11.256109-05:00","created_by":"pdiddy","updated_at":"2026-02-09T18:21:23.888495-05:00","closed_at":"2026-02-09T18:21:23.888495-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-xb9.1","depends_on_id":"research-engine-xb9","type":"parent-child","created_at":"2026-02-09T18:16:11.256819-05:00","created_by":"pdiddy"}],"comments":[{"id":20,"issue_id":"research-engine-xb9.1","author":"pdiddy","text":"tokens: 15000","created_at":"2026-02-09T23:21:23Z"}]}
{"id":"research-engine-xb9.2","title":"Create ARCHITECTURE.md","description":"## Type\nDocumentation\n\n## Required Reading\n- .claude/rules/architecture-format.md\n- .claude/rules/documentation-standards.md\n- docs/VISION.md (after it exists)\n\n## Files to Create\n- docs/ARCHITECTURE.md\n\n## Required Sections (per architecture-format rule)\n1. System Overview - Pipeline-based research management, core insight\n2. Pipeline Interface - Data structures (Paper, KnowledgeItem, Draft), operations per stage\n3. System Components - Acquisition, Conversion, Extraction, Knowledge Base, Generation\n4. Design Decisions - File-based interfaces, Mage as orchestrator, Go over Python\n5. Technology Choices - Go, Mage, SQLite/files for knowledge, PDF libraries\n6. Project Structure - magefiles/, papers/, knowledge/, output/, internal/\n7. Implementation Status - Current phase and progress\n8. Related Documents - VISION, PRDs\n\n## Content Hints\n- Pipeline stages: Acquisition → Conversion → Extraction → Knowledge Base → Generation\n- Each stage reads from filesystem, writes to filesystem\n- Mage targets orchestrate each stage\n- Data formats: PDF (raw), Markdown (converted), JSON/YAML (knowledge), Markdown (output)\n\n## Acceptance Criteria\n- [ ] All required sections present per architecture-format\n- [ ] Pipeline diagram included (PlantUML inline)\n- [ ] Style follows documentation-standards\n- [ ] File saved at docs/ARCHITECTURE.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T18:16:21.96562-05:00","created_by":"pdiddy","updated_at":"2026-02-09T18:24:19.0749-05:00","closed_at":"2026-02-09T18:24:19.0749-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-xb9.2","depends_on_id":"research-engine-xb9","type":"parent-child","created_at":"2026-02-09T18:16:21.966264-05:00","created_by":"pdiddy"}],"comments":[{"id":21,"issue_id":"research-engine-xb9.2","author":"pdiddy","text":"tokens: 18000","created_at":"2026-02-09T23:24:18Z"}]}
{"id":"research-engine-xb9.3","title":"PRD: Paper Acquisition","description":"## Type\nDocumentation\n\n## Required Reading\n- .claude/rules/prd-format.md\n- .claude/rules/documentation-standards.md\n- docs/ARCHITECTURE.md (after it exists)\n\n## Files to Create\n- docs/specs/product-requirements/prd001-acquisition.yaml\n\n## Required Sections (per prd-format rule)\n- id: prd001-acquisition\n- title: Paper Acquisition\n- problem: Multi-line description of fragmented paper downloading\n- goals: G1, G2, G3...\n- requirements: R1 (Sources), R2 (Organization), R3 (Metadata)\n- non_goals: What we are NOT building\n- acceptance_criteria: Checkable outcomes\n\n## Content Hints\n- Problem: Papers scattered across arXiv, ACM, IEEE, direct URLs; no unified download\n- Goals: Single command to fetch papers, automatic metadata extraction, organized storage\n- Requirements:\n  - R1: Source support (arXiv, DOI, direct URL)\n  - R2: Metadata extraction (title, authors, date, abstract)\n  - R3: File organization (by topic, date, or custom taxonomy)\n  - R4: Idempotent downloads (skip if exists)\n  - R5: Progress reporting\n- Non-goals: Full-text search (that's Knowledge Base), citation graph (that's Extraction)\n\n## Acceptance Criteria\n- [ ] All required sections present per prd-format\n- [ ] Requirements numbered and specific\n- [ ] File saved at docs/specs/product-requirements/prd001-acquisition.yaml","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T18:16:38.966646-05:00","created_by":"pdiddy","updated_at":"2026-02-09T18:29:04.156924-05:00","closed_at":"2026-02-09T18:29:04.156924-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-xb9.3","depends_on_id":"research-engine-xb9","type":"parent-child","created_at":"2026-02-09T18:16:38.967383-05:00","created_by":"pdiddy"}],"comments":[{"id":22,"issue_id":"research-engine-xb9.3","author":"pdiddy","text":"tokens: 25000","created_at":"2026-02-09T23:29:04Z"}]}
{"id":"research-engine-xb9.4","title":"PRD: PDF Conversion","description":"## Type\nDocumentation\n\n## Required Reading\n- .claude/rules/prd-format.md\n- .claude/rules/documentation-standards.md\n- docs/ARCHITECTURE.md (after it exists)\n\n## Files to Create\n- docs/specs/product-requirements/prd002-conversion.yaml\n\n## Required Sections (per prd-format rule)\n- id: prd002-conversion\n- title: PDF to Markdown Conversion\n- problem: PDFs are not searchable or machine-readable\n- goals: G1, G2, G3...\n- requirements: R1 (Structure), R2 (Content), R3 (Edge cases)\n- non_goals: What we are NOT building\n- acceptance_criteria: Checkable outcomes\n\n## Content Hints\n- Problem: PDFs lock content in opaque format; can't search, can't extract, can't process\n- Goals: Clean markdown output, preserved structure, linked references\n- Requirements:\n  - R1: Section preservation (headings, paragraphs)\n  - R2: Citation extraction and linking\n  - R3: Figure/table handling (placeholders or extraction)\n  - R4: Multi-column layout support\n  - R5: Scanned PDF handling (OCR fallback)\n  - R6: Batch processing with progress\n- Non-goals: Perfect formatting (80% good enough), image extraction\n\n## Acceptance Criteria\n- [ ] All required sections present per prd-format\n- [ ] Requirements numbered and specific\n- [ ] File saved at docs/specs/product-requirements/prd002-conversion.yaml","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T18:16:44.276402-05:00","created_by":"pdiddy","updated_at":"2026-02-09T18:29:04.322489-05:00","closed_at":"2026-02-09T18:29:04.322489-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-xb9.4","depends_on_id":"research-engine-xb9","type":"parent-child","created_at":"2026-02-09T18:16:44.276978-05:00","created_by":"pdiddy"}],"comments":[{"id":23,"issue_id":"research-engine-xb9.4","author":"pdiddy","text":"tokens: 25000","created_at":"2026-02-09T23:29:04Z"}]}
{"id":"research-engine-xb9.5","title":"PRD: Knowledge Extraction","description":"## Type\nDocumentation\n\n## Required Reading\n- .claude/rules/prd-format.md\n- .claude/rules/documentation-standards.md\n- docs/ARCHITECTURE.md (after it exists)\n\n## Files to Create\n- docs/specs/product-requirements/prd003-extraction.yaml\n\n## Required Sections (per prd-format rule)\n- id: prd003-extraction\n- title: Knowledge Extraction\n- problem: Converted markdown is still unstructured prose\n- goals: G1, G2, G3...\n- requirements: R1 (Parsing), R2 (Structuring), R3 (Tagging)\n- non_goals: What we are NOT building\n- acceptance_criteria: Checkable outcomes\n\n## Content Hints\n- Problem: Markdown files contain knowledge but it's buried in prose\n- Goals: Extract key concepts, methods, results; build citation graph; tag content\n- Requirements:\n  - R1: Concept extraction (definitions, methods, algorithms)\n  - R2: Result extraction (metrics, comparisons, findings)\n  - R3: Citation graph construction\n  - R4: Automatic tagging/categorization\n  - R5: Source traceability (link back to paper + section)\n  - R6: Incremental extraction (process new papers only)\n- Non-goals: Semantic understanding (just structure), automatic summarization\n\n## Acceptance Criteria\n- [ ] All required sections present per prd-format\n- [ ] Requirements numbered and specific\n- [ ] File saved at docs/specs/product-requirements/prd003-extraction.yaml","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T18:16:49.739502-05:00","created_by":"pdiddy","updated_at":"2026-02-09T18:29:04.480241-05:00","closed_at":"2026-02-09T18:29:04.480241-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-xb9.5","depends_on_id":"research-engine-xb9","type":"parent-child","created_at":"2026-02-09T18:16:49.740105-05:00","created_by":"pdiddy"}],"comments":[{"id":24,"issue_id":"research-engine-xb9.5","author":"pdiddy","text":"tokens: 25000","created_at":"2026-02-09T23:29:04Z"}]}
{"id":"research-engine-xb9.6","title":"PRD: Knowledge Base","description":"## Type\nDocumentation\n\n## Required Reading\n- .claude/rules/prd-format.md\n- .claude/rules/documentation-standards.md\n- docs/ARCHITECTURE.md (after it exists)\n\n## Files to Create\n- docs/specs/product-requirements/prd004-knowledge-base.yaml\n\n## Required Sections (per prd-format rule)\n- id: prd004-knowledge-base\n- title: Knowledge Base\n- problem: Extracted knowledge needs queryable storage\n- goals: G1, G2, G3...\n- requirements: R1 (Storage), R2 (Query), R3 (Updates)\n- non_goals: What we are NOT building\n- acceptance_criteria: Checkable outcomes\n\n## Content Hints\n- Problem: Extracted knowledge items are files; need structured query capability\n- Goals: Full-text search, structured queries, source linking, incremental updates\n- Requirements:\n  - R1: Storage format (SQLite or structured files)\n  - R2: Full-text search across knowledge items\n  - R3: Structured queries (by tag, by paper, by concept)\n  - R4: Source linking (trace item to paper + section)\n  - R5: Incremental updates (add new without reindexing all)\n  - R6: Export capability (dump to markdown/JSON)\n- Non-goals: Distributed storage, real-time sync, cloud hosting\n\n## Acceptance Criteria\n- [ ] All required sections present per prd-format\n- [ ] Requirements numbered and specific\n- [ ] File saved at docs/specs/product-requirements/prd004-knowledge-base.yaml","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T18:16:54.485757-05:00","created_by":"pdiddy","updated_at":"2026-02-09T18:29:04.636552-05:00","closed_at":"2026-02-09T18:29:04.636552-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-xb9.6","depends_on_id":"research-engine-xb9","type":"parent-child","created_at":"2026-02-09T18:16:54.486634-05:00","created_by":"pdiddy"}],"comments":[{"id":25,"issue_id":"research-engine-xb9.6","author":"pdiddy","text":"tokens: 25000","created_at":"2026-02-09T23:29:04Z"}]}
{"id":"research-engine-xb9.7","title":"PRD: Paper Generation","description":"## Type\nDocumentation\n\n## Required Reading\n- .claude/rules/prd-format.md\n- .claude/rules/documentation-standards.md\n- docs/ARCHITECTURE.md (after it exists)\n\n## Files to Create\n- docs/specs/product-requirements/prd005-generation.yaml\n\n## Required Sections (per prd-format rule)\n- id: prd005-generation\n- title: Paper Generation\n- problem: Synthesizing knowledge into new papers is manual\n- goals: G1, G2, G3...\n- requirements: R1 (Brainstorming), R2 (Drafting), R3 (Citations)\n- non_goals: What we are NOT building\n- acceptance_criteria: Checkable outcomes\n\n## Content Hints\n- Problem: Have knowledge base but producing new papers requires manual synthesis\n- Goals: Brainstorm mode for exploration, draft mode for synthesis, citation tracking\n- Requirements:\n  - R1: Brainstorming queries (find related concepts, gaps, connections)\n  - R2: Draft generation (synthesize from knowledge items)\n  - R3: Citation tracking (link output to sources)\n  - R4: Iterative refinement (edit and regenerate sections)\n  - R5: Output formats (markdown, LaTeX-ready)\n  - R6: Outline support (structure before content)\n- Non-goals: Fully autonomous paper writing, formatting for specific journals\n\n## Acceptance Criteria\n- [ ] All required sections present per prd-format\n- [ ] Requirements numbered and specific\n- [ ] File saved at docs/specs/product-requirements/prd005-generation.yaml","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T18:16:59.587854-05:00","created_by":"pdiddy","updated_at":"2026-02-09T18:29:04.794304-05:00","closed_at":"2026-02-09T18:29:04.794304-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-xb9.7","depends_on_id":"research-engine-xb9","type":"parent-child","created_at":"2026-02-09T18:16:59.588535-05:00","created_by":"pdiddy"}],"comments":[{"id":26,"issue_id":"research-engine-xb9.7","author":"pdiddy","text":"tokens: 25000","created_at":"2026-02-09T23:29:04Z"}]}
{"id":"research-engine-xb9.8","title":"Mage Project Scaffolding","description":"## Type\nCode\n\n## Required Reading\n- docs/ARCHITECTURE.md (after it exists)\n- .claude/rules/go-style.md\n\n## Files to Create/Modify\n- go.mod (create)\n- magefiles/magefile.go (create) - Main Mage entry with placeholder targets\n- magefiles/acquire.go (create) - Acquisition target stubs\n- magefiles/convert.go (create) - Conversion target stubs\n- magefiles/extract.go (create) - Extraction target stubs\n- magefiles/knowledge.go (create) - Knowledge base target stubs\n- magefiles/generate.go (create) - Generation target stubs\n\n## Requirements\n- Initialize Go module with appropriate name\n- Create Mage targets matching ARCHITECTURE pipeline stages:\n  - mage download - Placeholder for paper acquisition\n  - mage convert - Placeholder for PDF conversion\n  - mage extract - Placeholder for knowledge extraction\n  - mage index - Placeholder for knowledge base indexing\n  - mage brainstorm - Placeholder for idea exploration\n  - mage draft - Placeholder for content generation\n  - mage pipeline - Runs all stages end-to-end\n- Each target should print what it will do (not implemented yet)\n- Create directory structure: papers/{raw,markdown,metadata}, knowledge/{extracted,index}, output/{drafts,notes}\n\n## Design Decisions\n- Use magefiles/ directory (not magefile.go in root) per Mage best practices\n- One file per pipeline stage for organization\n- Targets return error for consistent error handling\n\n## Acceptance Criteria\n- [ ] go mod init succeeds\n- [ ] mage -l lists all targets\n- [ ] Each target runs and prints placeholder message\n- [ ] Directory structure created\n- [ ] Code follows go-style rules","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T18:17:20.851027-05:00","created_by":"pdiddy","updated_at":"2026-02-09T19:53:48.005415-05:00","closed_at":"2026-02-09T19:53:48.005415-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-xb9.8","depends_on_id":"research-engine-xb9","type":"parent-child","created_at":"2026-02-09T18:17:20.851659-05:00","created_by":"pdiddy"}],"comments":[{"id":27,"issue_id":"research-engine-xb9.8","author":"pdiddy","text":"tokens: 15000","created_at":"2026-02-10T00:53:47Z"}]}
{"id":"research-engine-xb9.9","title":"Update README with development setup instructions","description":"## Type\nDocumentation\n\n## Required Reading\n- docs/ARCHITECTURE.md (Technology Choices table for the tool list)\n- docs/VISION.md (project description for the overview section)\n\n## Files to Modify\n- README.md (update)\n\n## Requirements\n- Project overview paragraph from VISION\n- Prerequisites section with brew install commands for Go, Mage, SQLite, GROBID/poppler\n- Verification commands for each tool\n- Project structure overview pointing to docs/\n- Pipeline stages summary linking to PRDs\n\n## Acceptance Criteria\n- [ ] Every tool from ARCHITECTURE Table 3 that requires installation is listed\n- [ ] Each tool has a brew install command\n- [ ] Verification commands confirm the tool is working\n- [ ] README links to VISION and ARCHITECTURE without duplicating them","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-09T18:31:14.554993-05:00","created_by":"pdiddy","updated_at":"2026-02-09T18:32:21.054891-05:00","closed_at":"2026-02-09T18:32:21.054891-05:00","close_reason":"Closed","dependencies":[{"issue_id":"research-engine-xb9.9","depends_on_id":"research-engine-xb9","type":"parent-child","created_at":"2026-02-09T18:31:14.557483-05:00","created_by":"pdiddy"}],"comments":[{"id":28,"issue_id":"research-engine-xb9.9","author":"pdiddy","text":"tokens: 8000","created_at":"2026-02-09T23:32:20Z"}]}
{"id":"research-l1f","title":"Documentation and Skills","description":"Update documentation, skills, ARCHITECTURE, road-map, and README for patent search support. Create engineering guides for patent search setup and sample research prompts.","status":"open","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:08:15.734211-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:08:15.734211-05:00","labels":["docs"]}
{"id":"research-l1f.1","title":"Update search-papers skill for patent search","description":"## Required Reading\n- .claude/commands/search-papers.md (existing skill)\n- prd008-patent-search.yaml (R6)\n- docs/engineering/eng01-claude-research-skills.md (skill conventions)\n\n## Files to Create/Modify\n- .claude/commands/search-papers.md (modify)\n\n## Requirements\n- Add patent search guidance: when researcher asks about patents, prior art, or IP landscape, use --patents flag\n- Document --patentsview-api-key flag (note: loaded from .secrets/ automatically when configured)\n- Add patent search example in workflow section\n- Mention that patent results appear alongside academic results by default when key is configured\n- Add tip: use --patents for patent-only searches to avoid academic backend noise\n\n## Acceptance Criteria\n- [ ] Skill mentions patent search capability\n- [ ] --patents and --patentsview-api-key flags documented\n- [ ] Example patent search included\n- [ ] Follows existing skill anatomy conventions","status":"open","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:11:48.425355-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:11:48.425355-05:00","labels":["patent","prd008","skill"],"dependencies":[{"issue_id":"research-l1f.1","depends_on_id":"research-l1f","type":"parent-child","created_at":"2026-02-12T15:11:48.426247-05:00","created_by":"petardjukic"},{"issue_id":"research-l1f.1","depends_on_id":"research-0op.3","type":"blocks","created_at":"2026-02-12T15:11:48.427866-05:00","created_by":"petardjukic"}]}
{"id":"research-l1f.2","title":"Update acquire-papers skill for patent identifiers","description":"## Required Reading\n- .claude/commands/acquire-papers.md (existing skill)\n- prd008-patent-search.yaml (R4, R6.5)\n- docs/engineering/eng01-claude-research-skills.md (skill conventions)\n\n## Files to Create/Modify\n- .claude/commands/acquire-papers.md (modify)\n\n## Requirements\n- Document that patent identifiers (US7654321, US7654321B2, US20230012345A1) are auto-detected\n- Add example: /acquire-papers US11734097 US20230012345A1\n- Note that patent PDFs stored alongside paper PDFs in papers/raw/\n- Mention that patent metadata is fetched from PatentsView when API key is configured\n- Add tip: mix paper and patent identifiers in same acquire command\n\n## Acceptance Criteria\n- [ ] Skill mentions patent identifier auto-detection\n- [ ] Patent identifier format documented with examples\n- [ ] Follows existing skill anatomy conventions","status":"open","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:11:56.658208-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:11:56.658208-05:00","labels":["patent","prd008","skill"],"dependencies":[{"issue_id":"research-l1f.2","depends_on_id":"research-l1f","type":"parent-child","created_at":"2026-02-12T15:11:56.659108-05:00","created_by":"petardjukic"},{"issue_id":"research-l1f.2","depends_on_id":"research-0op.6","type":"blocks","created_at":"2026-02-12T15:11:56.66085-05:00","created_by":"petardjukic"}]}
{"id":"research-l1f.3","title":"Update ARCHITECTURE.md for patent support","description":"## Required Reading\n- docs/ARCHITECTURE.md (current architecture)\n- prd008-patent-search.yaml\n- docs/engineering/eng01-claude-research-skills.md\n\n## Files to Create/Modify\n- docs/ARCHITECTURE.md (modify)\n\n## Requirements\n- Add PatentsView API to Technology Choices table (Table 4)\n- Update Search component description to mention patent backends alongside academic\n- Update Acquisition component to mention patent identifier resolution and Google Patents PDF\n- Add .secrets/ to Project Structure tree\n- Update Implementation Status to mention OpenAlex and PatentsView backends\n- Follow documentation-standards and architecture-format rules\n\n## Acceptance Criteria\n- [ ] Technology Choices table includes PatentsView\n- [ ] Search and Acquisition sections mention patent support\n- [ ] .secrets/ in project structure\n- [ ] Style follows documentation-standards","status":"open","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:12:07.071091-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:12:07.071091-05:00","labels":["docs","prd008"],"dependencies":[{"issue_id":"research-l1f.3","depends_on_id":"research-l1f","type":"parent-child","created_at":"2026-02-12T15:12:07.072309-05:00","created_by":"petardjukic"},{"issue_id":"research-l1f.3","depends_on_id":"research-0op.1","type":"blocks","created_at":"2026-02-12T15:12:07.073825-05:00","created_by":"petardjukic"}]}
{"id":"research-l1f.4","title":"Update road-map with patent release","description":"## Required Reading\n- docs/road-map.yaml (current releases)\n- prd008-patent-search.yaml\n\n## Files to Create/Modify\n- docs/road-map.yaml (modify)\n\n## Requirements\n- Update release 03.0 status to \"in_progress\" (skills are implemented but not formally validated)\n- Add release 04.0 \"Patent Search\" with focus description and use cases:\n  - rel04.0-uc001-patent-search: Search USPTO patents via PatentsView API\n  - rel04.0-uc002-patent-acquisition: Acquire patent PDFs and create metadata\n  - rel04.0-uc003-patent-pipeline: End-to-end patent search, acquire, convert, and read\n- All use cases start as not_started\n\n## Acceptance Criteria\n- [ ] Release 03.0 status updated\n- [ ] Release 04.0 added with patent use cases\n- [ ] YAML is valid and follows existing format","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:12:16.757117-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:16:04.439829-05:00","closed_at":"2026-02-12T15:16:04.439829-05:00","close_reason":"Closed","labels":["docs","prd008"],"dependencies":[{"issue_id":"research-l1f.4","depends_on_id":"research-l1f","type":"parent-child","created_at":"2026-02-12T15:12:16.758261-05:00","created_by":"petardjukic"}],"comments":[{"id":39,"issue_id":"research-l1f.4","author":"petardjukic","text":"tokens: 15000","created_at":"2026-02-12T20:16:03Z"}]}
{"id":"research-l1f.5","title":"Patent search engineering guide, sample prompts, and README updates","description":"## Required Reading\n- docs/engineering/eng01-claude-research-skills.md (pattern for engineering guides)\n- prd008-patent-search.yaml (full patent PRD)\n- README.md (current structure)\n- .claude/rules/engineering-guideline-format.md (format rule)\n- .claude/rules/documentation-standards.md (style rules)\n\n## Files to Create/Modify\n- docs/engineering/eng02-patent-search.md (create)\n- docs/engineering/eng03-sample-prompts.md (create)\n- README.md (modify)\n\n## Requirements\n\n### eng02-patent-search.md (Patent Search Engineering Guide)\n- Follow engineering-guideline-format: H1 title, introduction, body with H2 sections\n- Sections:\n  - Introduction: what patent search adds, why it matters for research\n  - PatentsView API Overview: base URL, query operators (_text_any, _contains, _and), response format, rate limits (45 req/min)\n  - API Key Setup: step-by-step registration at PatentsView help center (https://patentsview-support.atlassian.net/servicedesk/customer/portal/1/group/1/create/18), creating .secrets/patentsview-api-key file\n  - Patent Identifiers: US patent number format, kind codes (B1, B2, A1), examples\n  - PDF Resolution: Google Patents storage URL pattern, fallback behavior\n  - Query Examples: CLI invocations for common patent searches (by keyword, inventor, date range, combined)\n  - Troubleshooting: 403 invalid key, 429 rate limit, empty results\n\n### eng03-sample-prompts.md (Sample Research Prompts)\n- Follow engineering-guideline-format\n- Sections with example research sessions showing Claude skill invocations:\n  - Finding Papers on a Topic: /search-papers example with query expansion\n  - Patent Landscape Search: /search-papers --patents with patent-specific queries\n  - Mixed Paper and Patent Research: combining academic and patent search\n  - Acquiring and Reading Papers: /acquire-papers and /read-papers workflow\n  - Building a Knowledge Base: /acquire-papers with extraction, /query-knowledge\n  - Writing a Literature Review: /write-paper with outline and section writing\n- Each section: the slash command, what Claude does, expected output\n\n### README.md Updates\n- Add Patent Search subsection under Infrastructure Commands with flags and examples\n- Add .secrets/ to Project Structure with one-line description\n- Add PatentsView API key to Prerequisites section\n- Mention .secrets/ setup for API key storage\n\n## Acceptance Criteria\n- [ ] eng02-patent-search.md created, follows engineering-guideline-format\n- [ ] eng03-sample-prompts.md created, follows engineering-guideline-format\n- [ ] README.md updated with patent search section, .secrets/, prerequisites\n- [ ] All docs follow documentation-standards (active voice with \"we\", no forbidden terms)\n- [ ] API key setup instructions are specific and actionable","status":"open","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:12:39.187514-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:12:39.187514-05:00","labels":["docs","prd008"],"dependencies":[{"issue_id":"research-l1f.5","depends_on_id":"research-l1f","type":"parent-child","created_at":"2026-02-12T15:12:39.1887-05:00","created_by":"petardjukic"},{"issue_id":"research-l1f.5","depends_on_id":"research-0op.3","type":"blocks","created_at":"2026-02-12T15:12:39.190929-05:00","created_by":"petardjukic"},{"issue_id":"research-l1f.5","depends_on_id":"research-0op.6","type":"blocks","created_at":"2026-02-12T15:12:39.192176-05:00","created_by":"petardjukic"},{"issue_id":"research-l1f.5","depends_on_id":"research-mfm.2","type":"blocks","created_at":"2026-02-12T15:12:39.19332-05:00","created_by":"petardjukic"},{"issue_id":"research-l1f.5","depends_on_id":"research-l1f.1","type":"blocks","created_at":"2026-02-12T15:12:39.194431-05:00","created_by":"petardjukic"},{"issue_id":"research-l1f.5","depends_on_id":"research-l1f.2","type":"blocks","created_at":"2026-02-12T15:12:39.195991-05:00","created_by":"petardjukic"},{"issue_id":"research-l1f.5","depends_on_id":"research-l1f.3","type":"blocks","created_at":"2026-02-12T15:12:39.197232-05:00","created_by":"petardjukic"},{"issue_id":"research-l1f.5","depends_on_id":"research-l1f.4","type":"blocks","created_at":"2026-02-12T15:12:39.198367-05:00","created_by":"petardjukic"}]}
{"id":"research-mfm","title":"Secrets Management","description":"Add .secrets/ directory support for API key loading. Keys stored as plain files in .secrets/ (one key per file). CLI flags override secret files when both present.","status":"open","priority":2,"issue_type":"epic","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:08:12.896589-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:08:12.896589-05:00","labels":["infrastructure"]}
{"id":"research-mfm.1","title":"Secrets file loading from .secrets/","description":"## Required Reading\n- pkg/types/config.go (API key fields in SearchConfig, AIConfig)\n- cmd/research-engine/search.go (flag definitions)\n- cmd/research-engine/extract.go (--api-key flag)\n\n## Files to Create/Modify\n- internal/secrets/secrets.go (create)\n- internal/secrets/secrets_test.go (create)\n- .gitignore (modify — add .secrets/)\n\n## Requirements\n- secrets.Load(dir string) (map[string]string, error): reads all files in dir, returns filename-\u003econtents (trimmed)\n- Supported key files: patentsview-api-key, semantic-scholar-api-key, anthropic-api-key, openalex-email\n- Missing directory or missing files are not errors (return empty map)\n- Unreadable files produce a warning on stderr, do not abort\n- Add .secrets/ to .gitignore\n- Create .secrets/.gitkeep as placeholder\n\n## Design Decisions\n- One file per key, raw content (no YAML/JSON wrapping)\n- Function returns a map so callers pick keys by name\n- No encryption; .gitignore prevents accidental commit\n\n## Acceptance Criteria\n- [ ] Load returns correct map from directory with key files\n- [ ] Load returns empty map when directory does not exist\n- [ ] Unreadable files produce warning, not error\n- [ ] .secrets/ in .gitignore\n- [ ] Tests pass with go test -tags sqlite_fts5 ./internal/secrets/","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:10:09.590147-05:00","created_by":"petardjukic","updated_at":"2026-02-12T15:22:40.146827-05:00","closed_at":"2026-02-12T15:22:40.146827-05:00","close_reason":"Closed","labels":["code","infrastructure"],"dependencies":[{"issue_id":"research-mfm.1","depends_on_id":"research-mfm","type":"parent-child","created_at":"2026-02-12T15:10:09.591002-05:00","created_by":"petardjukic"}],"comments":[{"id":41,"issue_id":"research-mfm.1","author":"petardjukic","text":"tokens: 25000","created_at":"2026-02-12T20:22:36Z"}]}
{"id":"research-mfm.2","title":"Wire secrets loading into CLI commands","description":"## Required Reading\n- internal/secrets/secrets.go (Load function)\n- cmd/research-engine/search.go (flag defaults)\n- cmd/research-engine/extract.go (--api-key flag)\n- cmd/research-engine/root.go (root command setup)\n\n## Files to Create/Modify\n- cmd/research-engine/search.go (modify)\n- cmd/research-engine/extract.go (modify)\n- cmd/research-engine/root.go (modify if needed)\n\n## Requirements\n- Call secrets.Load(\".secrets/\") early in command execution\n- Apply secrets as defaults when CLI flags are not explicitly set\n- Mapping: patentsview-api-key -\u003e --patentsview-api-key, semantic-scholar-api-key -\u003e SemanticScholarAPIKey, anthropic-api-key -\u003e --api-key, openalex-email -\u003e OpenAlexEmail\n- CLI flags always override secrets file values\n- Log which keys were loaded from .secrets/ at verbose level\n\n## Design Decisions\n- Load secrets once in a PersistentPreRun on the root command, store in a package-level var\n- Individual commands check the map and apply defaults before building config\n\n## Acceptance Criteria\n- [ ] search command picks up patentsview-api-key and semantic-scholar-api-key from .secrets/\n- [ ] extract command picks up anthropic-api-key from .secrets/\n- [ ] Explicit CLI flags override .secrets/ values\n- [ ] Missing .secrets/ directory causes no error","status":"closed","priority":2,"issue_type":"task","owner":"petar.djukic@gmail.com","created_at":"2026-02-12T15:10:20.510202-05:00","created_by":"petardjukic","updated_at":"2026-02-12T17:40:01.993962-05:00","closed_at":"2026-02-12T17:40:01.993962-05:00","close_reason":"Closed","labels":["code","infrastructure"],"dependencies":[{"issue_id":"research-mfm.2","depends_on_id":"research-mfm","type":"parent-child","created_at":"2026-02-12T15:10:20.511531-05:00","created_by":"petardjukic"},{"issue_id":"research-mfm.2","depends_on_id":"research-mfm.1","type":"blocks","created_at":"2026-02-12T15:10:20.51295-05:00","created_by":"petardjukic"}],"comments":[{"id":45,"issue_id":"research-mfm.2","author":"petardjukic","text":"tokens: 30000","created_at":"2026-02-12T22:40:01Z"}]}
